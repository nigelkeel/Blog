<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"nigelkeel.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="这个人很懒，什么都没留下。">
<meta property="og:type" content="website">
<meta property="og:title" content="永远的伊尔瓦">
<meta property="og:url" content="http://nigelkeel.gitee.io/page/5/index.html">
<meta property="og:site_name" content="永远的伊尔瓦">
<meta property="og:description" content="这个人很懒，什么都没留下。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="KEEL">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://nigelkeel.gitee.io/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>永远的伊尔瓦</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-material-oceanic.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">永远的伊尔瓦</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/random" rel="section"><i class="fa fa-sitemap fa-fw"></i>随机</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220404/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220404</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220404/" class="post-title-link" itemprop="url">ES Set</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:53:42" itemprop="dateCreated datePublished" datetime="2021-01-30T16:53:42+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:12:53" itemprop="dateModified" datetime="2021-02-01T19:12:53+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2204%EF%BC%9AES6/" itemprop="url" rel="index"><span itemprop="name">2204：ES6</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-set">ES Set</span><a href="#es-set" class="header-anchor">#</a></h1>
<p>ES6+</p>
<p>一种数据结构，类似数组，但是<strong>成员的值都是唯一</strong>的，不能重复。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set &#123;1, 2, 3&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2><span id="papi">API</span><a href="#papi" class="header-anchor">#</a></h2>
<table>
<thead>
<tr>
<th>api</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>size</code></td>
<td>返回 Set 的长度</td>
</tr>
<tr>
<td><code>add()</code></td>
<td>添加一个值，返回 Set 结构本身</td>
</tr>
<tr>
<td><code>delete()</code></td>
<td>删除一个值，返回一个布尔值</td>
</tr>
<tr>
<td><code>has()</code></td>
<td>判断是否存在某成员，返回一个布尔值</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>清除所有成员</td>
</tr>
<tr>
<td><code>keys()</code> <code>values</code></td>
<td>遍历键值，同 <code>for..of</code></td>
</tr>
<tr>
<td><code>entries()</code></td>
<td>遍历返回键值对</td>
</tr>
<tr>
<td><code>forEach()</code></td>
<td>使用回调函数遍历每个成员</td>
</tr>
</tbody>
</table>
<h2><span id="pying-yong">应用</span><a href="#pying-yong" class="header-anchor">#</a></h2>
<p>去除数组重复成员</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>去除字符串里面重复字符</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220403/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220403</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220403/" class="post-title-link" itemprop="url">展开运算符</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:36:28" itemprop="dateCreated datePublished" datetime="2021-01-30T16:36:28+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:12:41" itemprop="dateModified" datetime="2021-02-01T19:12:41+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2204%EF%BC%9AES6/" itemprop="url" rel="index"><span itemprop="name">2204：ES6</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="zhan-kai-yun-suan-fu">展开运算符</span><a href="#zhan-kai-yun-suan-fu" class="header-anchor">#</a></h1>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">
<span class="token comment">// 展开</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"arr"</span><span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 复制数组</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 这个不是复制数组，他们是同一个数组</span>
  <span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">;</span>

  <span class="token comment">// 数组复制方法之 for</span>
  <span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    arr3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"arr2"</span><span class="token punctuation">,</span> arr3<span class="token punctuation">)</span>

  <span class="token comment">// 数组复制方法之 ...</span>
  <span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"arr3"</span><span class="token punctuation">,</span> arr4<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 合并数组</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"arr4"</span><span class="token punctuation">,</span> arr3<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 可以展开字符串</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"arr5"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 对象是没有部署 itertor 接口，所以不能被展开</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'poxiao'</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">'rbq'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log(...obj)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 类数组对象上面也有iterator接口，所以也可以被展开</span>
<span class="token comment">// const olis = document.querySelectorAll("ul li")</span>
<span class="token comment">// console.log(...olis)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220402/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220402</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220402/" class="post-title-link" itemprop="url">Symbol</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:06:15" itemprop="dateCreated datePublished" datetime="2021-01-30T16:06:15+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:12:28" itemprop="dateModified" datetime="2021-02-01T19:12:28+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2204%EF%BC%9AES6/" itemprop="url" rel="index"><span itemprop="name">2204：ES6</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="symbol">Symbol</span><a href="#symbol" class="header-anchor">#</a></h1>
<p>保证对象的每个属性的名字都是独一无二的，从根本上面防止属性名冲突。</p>
<h2><span id="pyi-shi-yong">一、使用</span><a href="#pyi-shi-yong" class="header-anchor">#</a></h2>
<p>1、不用加 <code>new</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">typeof</span> s <span class="token comment">// "symbol"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>2、可以加描述符</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> 
s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 'Symbol(foo)'</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> 

3、</span><span class="token template-punctuation string">`</span></span><span class="token class-name">Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>description<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
> ES2019新增
</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>description <span class="token comment">// "foo"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>4、<code>Symbol.for</code> / <code>Symbol.keyFor</code><br>
有时，我们希望重新使用同一个Symbol值，Symbol.for()方法可以做到这一点。它接受一个字符串作为参数，然后搜索有没有以该参数作为名称的 Symbol 值。如果有，就返回这个 Symbol 值，否则就新建一个以该字符串为名称的 Symbol 值，并将其注册到全局。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> s <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
s1 <span class="token operator">===</span> s2 <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><code>Symbol.keyFor ()</code> 方法返回一个已登记的 Symbol 类型值的 key。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> s <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// "foo"</span>

<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="per-bian-li">二、遍历</span><a href="#per-bian-li" class="header-anchor">#</a></h2>
<p>无法遍历: <code>for...in</code>、<code>for...of</code>、<code>Object.keys()</code>、<code>Object.getOwnPropertyNames()</code>、<code>JSON.stringify()</code></p>
<p>可以遍历：<br>
<code>Object.getOwnPropertySymbols()</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>

obj<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello"</span>
obj<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"World"</span>

<span class="token keyword">const</span> objectSymbols <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token comment">// [Symbol(a), Symbol(b)]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Reflect.ownKeys()</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  nonEnum<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">&#125;</span>
Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token comment">// ["enum", "nonEnum", Symbol(key)]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="psan-ying-yong">三、应用</span><a href="#psan-ying-yong" class="header-anchor">#</a></h2>
<p>1、作为对象的属性名</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 第一种写法</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
a<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span>

<span class="token comment">// 第二种写法</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">"hello"</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 第三种写法</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> mySymbol<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// 以上写法都得到同样的结果</span>
<span class="token comment">// 只能用[]不能用.取值</span>
a<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2、消除魔术字符串<br>
待更新。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220401/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220401</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220401/" class="post-title-link" itemprop="url">解构赋值</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 14:39:54" itemprop="dateCreated datePublished" datetime="2021-01-30T14:39:54+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:13:20" itemprop="dateModified" datetime="2021-02-01T19:13:20+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2204%EF%BC%9AES6/" itemprop="url" rel="index"><span itemprop="name">2204：ES6</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="jie-gou-fu-zhi">解构赋值</span><a href="#jie-gou-fu-zhi" class="header-anchor">#</a></h1>
<p>基础使用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 字符串解构</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"qwq"</span>
<span class="token comment">// 数组解构</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment">// 对象解构</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span><span class="token number">2</span> <span class="token punctuation">&#125;</span>
<span class="token comment">// 默认值</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> x<span class="token operator">:</span><span class="token number">1</span> <span class="token punctuation">&#125;</span>
<span class="token comment">// 改名</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y<span class="token operator">:</span> z<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>数组的解构赋值</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 一一对应</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 解构失败返回 undefined</span>
<span class="token comment">// 允许不完全解构</span>
<span class="token comment">// 可以设置默认值(没有对应关系时)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token operator">=</span><span class="token string">"qwq"</span><span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 想把后面没有解构的值保存起来(rest参数必须是最后)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> <span class="token operator">...</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 多维数组保证一一对应也能解构</span>

<span class="token comment">// 交换两个变量</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 例子</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> hoo<span class="token punctuation">,</span> hoo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 报错 cannot access ‘hoo' before initialization</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对象的解构赋值（用的很多）</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 对象没有顺序，直接取 对应的方法 （保证同名，key）</span>
<span class="token keyword">const</span><span class="token punctuation">&#123;</span>
    log
<span class="token punctuation">&#125;</span> <span class="token operator">=</span> console<span class="token punctuation">;</span>

<span class="token comment">// 如果键名key和键值value是一样的，则可以直接简写</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    hoo<span class="token operator">:</span> <span class="token string">"hoo"</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> <span class="token string">"foo"</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    hoo<span class="token punctuation">,</span>
    foo
<span class="token punctuation">&#125;</span>

<span class="token comment">// 也能设置默认值</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>常用场景</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 交换变量</span>
<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span>

<span class="token comment">// 按需使用模块</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> readFile <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token comment">// 函数传参</span>
<span class="token comment">// 待更新</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1、函数多个返回值返回</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> hoo<span class="token operator">:</span> <span class="token string">"word"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> <span class="token punctuation">&#123;</span> foo <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2、函数传参数</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//3.json数据的提取</span>
<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"lily"</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">"nv"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex <span class="token punctuation">&#125;</span> <span class="token operator">=</span> json<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220306/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220306</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220306/" class="post-title-link" itemprop="url">ES 对象方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:52:28" itemprop="dateCreated datePublished" datetime="2021-01-30T16:52:28+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:12:08" itemprop="dateModified" datetime="2021-02-01T19:12:08+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-dui-xiang-fang-fa">ES 对象方法</span><a href="#es-dui-xiang-fang-fa" class="header-anchor">#</a></h1>
<p>Object.keys</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220305/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220305</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220305/" class="post-title-link" itemprop="url">ES Array API</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:52:07" itemprop="dateCreated datePublished" datetime="2021-01-30T16:52:07+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:11:54" itemprop="dateModified" datetime="2021-02-01T19:11:54+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-array-api">ES Array API</span><a href="#es-array-api" class="header-anchor">#</a></h1>
<blockquote>
<p>数组方法</p>
</blockquote>
<h2><span id="pyi-chang-yong-fang-fa">一、常用方法</span><a href="#pyi-chang-yong-fang-fa" class="header-anchor">#</a></h2>
<h2><span id="pyi-shu-zu-de-dui-lie-yu-zhan-cao-zuo">一、数组的队列与栈操作</span><a href="#pyi-shu-zu-de-dui-lie-yu-zhan-cao-zuo" class="header-anchor">#</a></h2>
<h3><span id="p1-push">1、<code>push</code></span><a href="#p1-push" class="header-anchor">#</a></h3>
<h3><span id="p2-pop">2、<code>pop</code></span><a href="#p2-pop" class="header-anchor">#</a></h3>
<h3><span id="p3-unshift">3、<code>unshift</code></span><a href="#p3-unshift" class="header-anchor">#</a></h3>
<h3><span id="p4-shift">4、<code>shift</code></span><a href="#p4-shift" class="header-anchor">#</a></h3>
<h2><span id="per-shu-zu-de-cao-zuo">二、数组的操作</span><a href="#per-shu-zu-de-cao-zuo" class="header-anchor">#</a></h2>
<h3><span id="p1-splice">1、<code>splice</code></span><a href="#p1-splice" class="header-anchor">#</a></h3>
<h3><span id="p2-slice">2、<code>slice</code></span><a href="#p2-slice" class="header-anchor">#</a></h3>
<h3><span id="p3-join">3、<code>join</code></span><a href="#p3-join" class="header-anchor">#</a></h3>
<h2><span id="psan-shu-zu-de-bian-li-yu-cha-zhao">三、数组的遍历与查找</span><a href="#psan-shu-zu-de-bian-li-yu-cha-zhao" class="header-anchor">#</a></h2>
<h3><span id="p1-indexof-lastindexof">1、<code>indexOf</code> / <code>lastIndexOf</code></span><a href="#p1-indexof-lastindexof" class="header-anchor">#</a></h3>
<h3><span id="p2-sort-pai-xu">2、<code>sort</code> 排序</span><a href="#p2-sort-pai-xu" class="header-anchor">#</a></h3>
<h3><span id="p3-reverse-fan-zhuan">3、<code>reverse</code> 反转</span><a href="#p3-reverse-fan-zhuan" class="header-anchor">#</a></h3>
<h3><span id="p4-foreach-map-filter-reduce-every-some-bian-li">4、<code>forEach</code>/<code>map</code>/<code>filter</code>/<code>reduce</code>/<code>every</code>/<code>some</code> 遍历</span><a href="#p4-foreach-map-filter-reduce-every-some-bian-li" class="header-anchor">#</a></h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220304/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220304</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220304/" class="post-title-link" itemprop="url">ES String API</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:51:45" itemprop="dateCreated datePublished" datetime="2021-01-30T16:51:45+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:11:39" itemprop="dateModified" datetime="2021-02-01T19:11:39+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="zi-fu-chuan-api">字符串 API</span><a href="#zi-fu-chuan-api" class="header-anchor">#</a></h1>
<p>字符串是基本类型，所有的方法都无法修改原字符串。</p>
<h2><span id="pcha-zhao-indexof-lastindexof">查找 - indexOf / lastIndexOf</span><a href="#pcha-zhao-indexof-lastindexof" class="header-anchor">#</a></h2>
<p><code>indexOf()</code> 返回指定字符串在字符串首次出现的位置（向后查找，对大小写敏感），如果没找到，返回<code>-1</code>。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">indexOf</span><span class="token punctuation">(</span>search <span class="token punctuation">[</span><span class="token punctuation">,</span> start<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    search 需检索的字符串</span>
<span class="token comment">//    start  可选，指定开始检索的位置</span>
<span class="token comment">//          如果没指定就是从首字符开始搜索</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    目标字符串第一次出现的位置/-1</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> “poxiaoispig"<span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"poxiao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"pig"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>lastIndexOf()</code> 同 <code>indexOf()</code> ，区别是逆序的（向前查找）。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">str<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"pig"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2><span id="pcha-zhao-includes">查找 - includes</span><a href="#pcha-zhao-includes" class="header-anchor">#</a></h2>
<p><code>includes()</code> 查找字符串是否包含指定字符串（对大小写敏感），如果找到返回<code>true</code> ,否则返回<code>false</code>。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">includes</span><span class="token punctuation">(</span>search<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> start<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    search 需查找的字符串</span>
<span class="token comment">//    start  可选，指定开始检索的位置</span>
<span class="token comment">//          如果没指定就是从最后一个字符开始搜索</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    目标字符串第一次出现的位置/-1</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> “poxiaoispig"<span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"poxiao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"px"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pcha-zhao-search">查找 - search</span><a href="#pcha-zhao-search" class="header-anchor">#</a></h2>
<p><code>search()</code>功能和<code>indexOf()</code>相同，定义匹配模式，只有一个参数，没有反向检索和全局模式。（正则表达式常用）</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>tar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    tar 要搜索的字符串</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    目标字符串第一次出现的位置/-1</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiaoispig"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">"pig"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pcha-zhao-match">查找 - match</span><a href="#pcha-zhao-match" class="header-anchor">#</a></h2>
<p><code>match()</code> 找出所有匹配的子字符串，并以数组的形式返回，如果匹配模式没有指定全局（正则表达式），则进行单次匹配，如果没找到返回<code>null</code>。该方法类似 <code>indexOf()</code> 和 <code>lastIndexOf()</code>，但是它返回指定的值，而不是字符串的位置。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    re  字符串或者正则表达式</span>
<span class="token comment">// 返回</span>
<span class="token comment">//    数组（包含所有匹配的字符串）</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">"xiao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ 'xiao', index: 2, input: 'poxiao', groups: undefined ]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pcha-zhao-charat-charcodeat">查找 - charAt/charCodeAt</span><a href="#pcha-zhao-charat-charcodeat" class="header-anchor">#</a></h2>
<p><code>charAt(n)</code> 返回字符串中的第 n 个字符，如果 n 超出字符串范围，返回空串。</p>
<p><code>charCodeAt(n)</code> 返回字符串中第 n 个字符的字符编码。</p>
<h2><span id="ppan-duan-tou-wei-startswith-endswith">判断头尾 - startsWith/endsWith</span><a href="#ppan-duan-tou-wei-startswith-endswith" class="header-anchor">#</a></h2>
<p><code>startsWith()</code> <code>endsWith()</code> 判断字符串开头、结尾有没有包含某个字符串。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    key 目标字符串</span>
<span class="token comment">// 返回</span>
<span class="token comment">//    true / false</span>

<span class="token string">"poxiao"</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"po"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token string">"poxiao"</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"po"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pqie-cheng-shu-zu-split">切成数组 - split</span><a href="#pqie-cheng-shu-zu-split" class="header-anchor">#</a></h2>
<p><code>split()</code> 把一个字符串切割成数组，这个操作和数组<code>join</code>是相反的。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">split</span><span class="token punctuation">(</span>rule<span class="token punctuation">[</span><span class="token punctuation">,</span> max<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    rule 字符串或者正则表达式</span>
<span class="token comment">//    max  可选，指定返回数组的的最大长度</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    数组</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["poxiao", ]</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["p","o","x","i","a","o"]</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["p","o"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pjie-qu-substr-slice-substring">截取 - substr/slice/substring</span><a href="#pjie-qu-substr-slice-substring" class="header-anchor">#</a></h2>
<p><code>substr</code> 根据指定长度截取字符串（不推荐使用该方法）</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token punctuation">,</span> length<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    start  起始下标</span>
<span class="token comment">//    length 可选，截取的长度</span>
<span class="token comment">//           如果省略，则截取到末尾</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    截取之后的字符串</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>slice</code> 、<code>substring</code> 根据指定的起止下标截取字符串</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span> <span class="token function">substring</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    start 起始下标</span>
<span class="token comment">//    end   可选，结束下标（不包括）</span>
<span class="token comment">//          如果省略，代表剩下的全部截取</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>起始和结束位置相比较的大小无法确定的时候可以使用<code>substring</code>。</p>
<p>如果为负值，<code>slic</code>e 能把负值当作从右向左。而<code>substring</code>视其无效</p>
<h2><span id="pda-xiao-xie-zhuan-huan-tolowercase-touppercase">大小写转换 - toLowerCase / toUpperCase</span><a href="#pda-xiao-xie-zhuan-huan-tolowercase-touppercase" class="header-anchor">#</a></h2>
<p><code>toLowerCase()</code> 将字符串转换成小写</p>
<p><code>toUpperCase()</code> 将字符串转换成大写</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数无</span>
<span class="token comment">// 返回</span>
<span class="token comment">//     转换之后的字符串</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//"POXIAO"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="ppin-jie-concat-liao-jie">拼接 - concat <code>了解</code></span><a href="#ppin-jie-concat-liao-jie" class="header-anchor">#</a></h2>
<p><code>concat(s1[, s2, s3])</code></p>
<p>功能：把多个参数添加到指定字符串的尾部。</p>
<p>参数：要添加到字符串尾部的，参数类型和个数没有限制。</p>
<p>返回：连接以后的字符串。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">"is"</span><span class="token punctuation">,</span> <span class="token string">"pig"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "poxiaoispig"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>原来数组的 <code>join</code> 方法替代 <code>concat</code> 方法，速度很快，但是现代浏览器优化加号拼接，所以推荐使用加号拼接。</p>
<h2><span id="pfu-zhi-repeat">复制 - repeat</span><a href="#pfu-zhi-repeat" class="header-anchor">#</a></h2>
<p><code>repeat()</code> 复制字符串。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    count 复制次数</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    复制之后的字符串</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "poxiaopoxiaopoxiao"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pbu-quan-padstart-padend">补全 - padStart / padEnd</span><a href="#pbu-quan-padstart-padend" class="header-anchor">#</a></h2>
<p><code>padStart()</code> <code>padEnd()</code> 是 ES2017 引入的字符串补全长度的方法。如果某个字符串不够指定长度，会在头部或尾部补全。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">padSrart</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> pad<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> pad<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 参数</span>
<span class="token comment">//    length 指定字符串的最小长度</span>
<span class="token comment">//    pad    用来补全的字符串</span>
<span class="token comment">// 返回值</span>
<span class="token comment">//    补全之后的字符串</span>
<span class="token comment">//    如果原字符串的长度，等于或大于指定的最小长度，则返回原字符串。</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"poxiao"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "poxiao"</span>
str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"is"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "isispoxiao"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pti-huan-replace">替换 - replace</span><a href="#pti-huan-replace" class="header-anchor">#</a></h2>
<p>如果没有使用正则表达式，只能替换一次。</p>
<p>这是用于搜索和替换的通用方法，是最有用的方法之一。它是搜索和替换字符串的瑞士军刀。</p>
<p><strong>当 <code>replace</code> 的第一个参数是字符串时，它仅替换第一个匹配项。</strong></p>
<h2><span id="pshan-shou-wei-kong-ge-trim-trimstart-trimend">删首尾空格 - trim / trimStart / trimEnd</span><a href="#pshan-shou-wei-kong-ge-trim-trimstart-trimend" class="header-anchor">#</a></h2>
<p><code>trim()</code> <code>trimStart()</code> <code>trimEnd()</code> 去除字符串的头尾空格。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">STR</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 无参数</span>
<span class="token comment">// 返回处理之后的字符串（不会改变原字符串）</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"   poxiao is pig   "</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "poxiao is pig"</span>
str<span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "poxiao is pig   "</span>
str<span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "   poxiao is pig"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pzhuan-huan-valueof-tostring">转换 - valueOf / toString</span><a href="#pzhuan-huan-valueof-tostring" class="header-anchor">#</a></h2>
<p><code>valueOf()</code> 返回对象的字符串、数值或者布尔值表示。</p>
<p><code>toString()</code> 返回对象的字符串表示。</p>
<h2><span id="pzheng-ze-ce-shi-test">正则测试 - test</span><a href="#pzheng-ze-ce-shi-test" class="header-anchor">#</a></h2>
<p>查找<br>
indexOf / lastIndexOf<br>
search<br>
match<br>
charAt<br>
截取<br>
substring<br>
slice<br>
substr<br>
拼接<br>
+<br>
concat<br>
大小写转换<br>
toLowerCase<br>
toUpperCase<br>
转数组 split<br>
清理字符串两侧空格 trim</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220303/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220303</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220303/" class="post-title-link" itemprop="url">ES Date</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:48:12" itemprop="dateCreated datePublished" datetime="2021-01-30T16:48:12+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:11:41" itemprop="dateModified" datetime="2021-02-01T19:11:41+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-date">ES Date</span><a href="#es-date" class="header-anchor">#</a></h1>
<p><code>Date</code> 是JS中用来处理<strong>日期和时间</strong>的内置对象。</p>
<p><a target="_blank" rel="noopener" href="http://doc.lipeihua.vip:8800/#/./JS%E5%9F%BA%E7%A1%80/11.Date%E5%AF%B9%E8%B1%A1">参考链接</a></p>
<h2><span id="p1-ji-ben-shi-yong">1、基本使用</span><a href="#p1-ji-ben-shi-yong" class="header-anchor">#</a></h2>
<p>获取一个Date对象</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now <span class="token comment">// 2020-08-26T12:11:25.743Z</span>
<span class="token keyword">typeof</span> now <span class="token comment">// object</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>创建一个时间</p>
<ul>
<li>传入一个毫秒数（会把毫秒数转换成一个时间c  然后加上1970年1月1日 8：00 的时间）</li>
<li>传入一个字符串格式的时间</li>
<li>传入多个参数 分别代表年 月 日 时 分 秒 毫秒</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1546354578234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2019-10-01 8:0:0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2019-10-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果不写时间 只写年月日 那么时间按照00点来计算</span>
<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"8:0:0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Invalid Date 如果不写年月日 那么时间是错误的</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//当数字形式传递或者获取月份的时候，月份是从0开始算  0 代表 1月</span>
<span class="token keyword">var</span> date3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//时间超出分为 会自动向前进一位  但是不建议这么写</span>
<span class="token keyword">var</span> date3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date3<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p2-shi-jian-chuo">2、时间戳</span><a href="#p2-shi-jian-chuo" class="header-anchor">#</a></h2>
<p><strong>时间戳</strong>是一个整数，保存1970年1月1日到现在的毫秒数。</p>
<p>获取时间戳方法</p>
<ul>
<li><code>Date.now()</code></li>
<li><code>new Date().getTime()</code></li>
<li><code>Date.parse(new Date())</code></li>
<li><code>new Date().valueOf()</code></li>
</ul>
<h2><span id="p3-she-zhi-shi-jian">3、设置时间</span><a href="#p3-she-zhi-shi-jian" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取当前的时间戳</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取当前时间</span>
<span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// now => 2020-07-14T06:00:41.645Z</span>

<span class="token comment">// 作为构造函数使用</span>
<span class="token keyword">let</span> dt  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>年<span class="token punctuation">,</span>月<span class="token punctuation">,</span>日<span class="token punctuation">,</span><span class="token punctuation">[</span>时<span class="token punctuation">,</span>分<span class="token punctuation">,</span>秒<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>自动校准机制，超过范围的会自动换算。</p>
<h2><span id="p4-shi-jian-huo-qu">4、时间获取</span><a href="#p4-shi-jian-huo-qu" class="header-anchor">#</a></h2>
<table>
<thead>
<tr>
<th>方法</th>
<th>功能</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getFullYear()</code></td>
<td>获得四位年份</td>
<td></td>
</tr>
<tr>
<td><code>getMonth()</code></td>
<td>获取月份</td>
<td><strong>0-11</strong></td>
</tr>
<tr>
<td><code>getDate()</code></td>
<td>获取月份中的天数</td>
<td>1-31</td>
</tr>
<tr>
<td><code>getDay()</code></td>
<td>获取星期，0表示周日</td>
<td>0-6</td>
</tr>
<tr>
<td><code>getHours()</code></td>
<td>小时</td>
<td>0-23</td>
</tr>
<tr>
<td><code>getMinutes()</code></td>
<td>分钟</td>
<td>0-59</td>
</tr>
<tr>
<td><code>getSeconds()</code></td>
<td>秒数</td>
<td>0-59</td>
</tr>
<tr>
<td><code>getMilliseconds()</code></td>
<td>毫秒数</td>
<td>0-999</td>
</tr>
</tbody>
</table>
<h2><span id="p5-she-zhi-dan-du-de-shi-jian">5、设置单独的时间</span><a href="#p5-she-zhi-dan-du-de-shi-jian" class="header-anchor">#</a></h2>
<ul>
<li>设置年份 setFullYear</li>
<li>设置月份 setMonth</li>
<li>设置日 setDate</li>
<li>设置小时 setHours</li>
<li>设置分钟 setMinutes</li>
<li>设置秒 setSeconds</li>
<li>设置毫秒 setMilliseconds</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>设置时间<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置年份</span>
    now<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置月份</span>
    now<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置日期</span>
    now<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置 小时</span>
    now<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置分钟</span>
    now<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置秒</span>
    now<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置毫秒</span>
    now<span class="token punctuation">.</span><span class="token function">setMilliseconds</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span>

    <span class="token comment">//设置星期  不允许 没有这个方法</span>
    now<span class="token punctuation">.</span><span class="token function">setDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>设置一个3天后的当前时间</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">
 <span class="token comment">//设置一个3天后的当前时间</span>
<span class="token comment">/* //获取当前时间
 var now = new Date();
 //获取当前时间的日期
 var nowDate = now.getDate();
 //让当前的日期 加上3
 newDate = nowDate+3;

 // 获取一个当前的时间，然后把当前时间的日期 设置为newDate
 // console.log(newDate)
 var newTime = new Date();
 newTime = newTime.setDate(newDate);
 console.log(newTime);*/</span>


 <span class="token keyword">var</span> threeDatLast <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 threeDatLast<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>threeDatLast<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p6-shi-li">6、示例</span><a href="#p6-shi-li" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取类似 2020-08-08 12:04:56 格式的字符串</span>
<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span>
        <span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220302/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220302</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220302/" class="post-title-link" itemprop="url">ES Math</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:46:31" itemprop="dateCreated datePublished" datetime="2021-01-30T16:46:31+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:11:20" itemprop="dateModified" datetime="2021-02-01T19:11:20+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-math">ES Math</span><a href="#es-math" class="header-anchor">#</a></h1>
<h2><span id="pqu-zheng">取整</span><a href="#pqu-zheng" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// parseInt 保留整数部分</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// floor 向下取整（丢弃小数部分）</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// ceil 向上取整</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token comment">// round 四舍五入</span>
Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="phuo-qu-sui-ji-shu">获取随机数</span><a href="#phuo-qu-sui-ji-shu" class="header-anchor">#</a></h2>
<p>获取 0~1 之间的随机数。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>获取指定范围的随机整数（常用）</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 公式（MAX，最大值；MIN，最小值）</span>
<span class="token keyword">const</span> Result <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token constant">MAX</span> <span class="token operator">-</span> <span class="token constant">MIN</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">MIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 简写</span>
<span class="token keyword">const</span> Result <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token constant">MAX</span> <span class="token operator">-</span> <span class="token constant">MIN</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token constant">MIN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>为什么不用 <code>ceil</code> 和 <code>round</code> 取整而用 <code>floor</code></p>
<ul>
<li>用 ceil 的话，第一个数被随机到的概率极小。</li>
<li>用 round 的话，第一个和最后一个的概率比中间各项的概率低 50%。</li>
</ul>
<h2><span id="p1-jin-zhi">1、进制</span><a href="#p1-jin-zhi" class="header-anchor">#</a></h2>
<p>（1）进制表示</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 二进制</span>
<span class="token number">0b101</span>

<span class="token comment">// 八进制</span>
<span class="token number">0o123</span>

<span class="token comment">// 十六进制</span>
<span class="token number">0x123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）进制转换（待补充）</p>
<h2><span id="p2-qu-zheng">2、取整</span><a href="#p2-qu-zheng" class="header-anchor">#</a></h2>
<p>将小数转换成整数，如果是整数则不改变。</p>
<ul>
<li><code>Math.ceil()</code>  进一取整</li>
<li><code>Math.floor()</code> 舍一取整</li>
<li><code>Math.round()</code>  标准的四舍五入</li>
</ul>
<h2><span id="p3-zui-zhi">3、最值</span><a href="#p3-zui-zhi" class="header-anchor">#</a></h2>
<p><code>Math.max()</code> <code>Math.min()</code> 获取一个参数列表的最大值，最小值。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取一个数组的最值</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>

<span class="token comment">// ES5</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES6</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p4-shu-xue-yun-suan">4、数学运算</span><a href="#p4-shu-xue-yun-suan" class="header-anchor">#</a></h2>
<p><code>Math.abs()</code>  取绝对值</p>
<p><code>Math.pow(底数，次方)</code> <code>**</code> 幂运算</p>
<p><code>Math.PI</code> 圆周率π</p>
<p><code>Math.random()</code> 返回大于等于0小于1的一个随机数</p>
<p><code>Math.sign()</code>   判断正负<br>正数 <code>1</code><br>零或者 <code>null</code>  <code>0</code><br>负数 <code>-1</code><br>其他 <code>NaN</code></p>
<p><code>Math.sqrt()</code> <code>Math.cbrt()</code> <code>Math.hypot(3, 4)==5</code>  平分根、立方根</p>
<h2><span id="p5-bu-chong">5、补充</span><a href="#p5-bu-chong" class="header-anchor">#</a></h2>
<p>去掉小数部分 <code>Math.trunc()</code></p>
<h2><span id="p6-sheng-cheng-zhi-ding-fan-wei-de-sui-ji-shu">6、生成指定范围的随机数</span><a href="#p6-sheng-cheng-zhi-ding-fan-wei-de-sui-ji-shu" class="header-anchor">#</a></h2>
<p><code>Math.floor (Math. random()*( MAX-MIN+1 ) + MIN)</code></p>
<h2><span id="p7-sheng-cheng-wei-yi-de-sui-ji-zi-fu-chuan">7、生成唯一的随机字符串</span><a href="#p7-sheng-cheng-wei-yi-de-sui-ji-zi-fu-chuan" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">uniqueId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// substring去掉.</span>
  <span class="token keyword">const</span> randomNum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// .toString(32) 转换为32进制</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>randomNum <span class="token operator">+</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220301/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220301</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220301/" class="post-title-link" itemprop="url">JSON</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 16:44:28" itemprop="dateCreated datePublished" datetime="2021-01-30T16:44:28+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:11:09" itemprop="dateModified" datetime="2021-02-01T19:11:09+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2203%EF%BC%9AES-API/" itemprop="url" rel="index"><span itemprop="name">2203：ES API</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="json">JSON</span><a href="#json" class="header-anchor">#</a></h1>
<p><code>JSON</code> 是ES内置对象（不用定义就能用）。<br>
<code>.json</code> 是一种常用于前后端数据交互的格式，本质是字符串。</p>
<h2><span id="pyi-zhi-de-biao-shi">一、值的表示</span><a href="#pyi-zhi-de-biao-shi" class="header-anchor">#</a></h2>
<h3><span id="p1-ji-ben-zhi">1、基本值</span><a href="#p1-ji-ben-zhi" class="header-anchor">#</a></h3>
<p>可以表示除了 <code>undefined</code>、<code>symbol</code> 之外的基本数据类型，<strong>表示字符串必须加双引号。</strong></p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json">false
5
&quot;hello world&quot; &#x2F;&#x2F; 表示字符串需加双引号
null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-dui-xiang">2、对象</span><a href="#p2-dui-xiang" class="header-anchor">#</a></h3>
<p>表示的是一组无序的键值对，属性必须用双引号包起来。此外，最后一个属性末尾不能加逗号。</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;
    &quot;name&quot;: &quot;Tom&quot;,
    &quot;age&quot;: 18
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p3-shu-zu">3、数组</span><a href="#p3-shu-zu" class="header-anchor">#</a></h3>
<pre class="line-numbers language-json" data-language="json"><code class="language-json">[25, &quot;hi&quot;, true]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2><span id="per-json-api">二、JSON API</span><a href="#per-json-api" class="header-anchor">#</a></h2>
<h3><span id="p1-json-stringify">1、<code>JSON.stringify()</code></span><a href="#p1-json-stringify" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">let</span> jsonData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">Stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>将JS值序列化为JSON字符串，常用于向服务器发送数据。<br>
函数，原型成员，<code>undefined</code>，<code>symbol</code> 会被忽略。</p>
<h3><span id="p2-json-parse">2、<code>JSON.parse()</code></span><a href="#p2-json-parse" class="header-anchor">#</a></h3>
<p>将JSON字符串解析成原生的JS值，常用于解析服务器获取的数据。<br>
不是有效的JSON字符串就会报错。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220210/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220210</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220210/" class="post-title-link" itemprop="url">JavaScript 函数执行过程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-02-02 15:11:29 / 修改时间：15:19:42" itemprop="dateCreated datePublished" datetime="2021-02-02T15:11:29+08:00">2021-02-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2><span id="p1-zhan-nei-cun-he-dui-nei-cun">1、栈内存和堆内存</span><a href="#p1-zhan-nei-cun-he-dui-nei-cun" class="header-anchor">#</a></h2>
<p>内存根据程序运行时候的逻辑分为<strong>栈内存</strong>和<strong>堆内存</strong>。在 JS 中，并没有严格意义区分。大部分的数据都保存在堆内存中，但是在某些场景，仍需要用栈（有时候也叫堆栈）的数据结构的思路进行处理，如<strong>执行上下文</strong>。</p>
<table>
<thead>
<tr>
<th>栈内存</th>
<th>堆内存</th>
</tr>
</thead>
<tbody>
<tr>
<td>栈结构</td>
<td>链表结构</td>
</tr>
<tr>
<td>占内存小，速度快</td>
<td>占内存大，速度慢</td>
</tr>
<tr>
<td>自动分配，自动回收</td>
<td>自己申请，手动释放</td>
</tr>
</tbody>
</table>
<h2><span id="p2-zhi-xing-shang-xia-wen">2、执行上下文</span><a href="#p2-zhi-xing-shang-xia-wen" class="header-anchor">#</a></h2>
<p>JS 引擎并不是逐行解析代码，而是逐段去分析和执行，当开始解析一段代码时，会先进行<strong>预处理</strong>（声明提升和创建作用域链）。生成一个<strong>执行上下文</strong>。</p>
<p><strong>执行上下文</strong>（执行环境）分为两种<strong>变量对象</strong>（VO）：</p>
<ul>
<li><code>Global</code> | <code>Window</code>，默认的<strong>全局执行环境</strong>。</li>
<li><code>Function</code>，调用函数时会进入的<strong>函数执行环境</strong>。</li>
</ul>
<p>代码执行时会开辟一个栈空间来说明程序的执行顺序，这个执行上下文堆栈称为<strong>执行栈</strong>。开始执行时先将全局执行环境压入栈底（压栈），执行到函数时会创建对应的函数执行环境，并将函数执行环境压入栈底。在函数执行完成后将函数执行环境弹出并销毁。直到所有代码执行完成销毁全局执行环境。</p>
<p>可以把执行栈认为是一个存储函数调用的<strong>栈结构</strong>，遵循先进后出的原则。</p>
<p><img src="/220210/images%5C2020%5C%E6%89%A7%E8%A1%8C%E6%A0%88.gif" alt="执行栈"></p>
<p>当我们使用递归的时候，因为栈可存放的函数是有<strong>限制</strong>的，一旦存放了过多的函数且没有得到释放的话，就会出现爆栈的问题。</p>
<h2><span id="p3-bian-liang-dui-xiang">3、变量对象</span><a href="#p3-bian-liang-dui-xiang" class="header-anchor">#</a></h2>
<p><strong>全局变量对象</strong> windows</p>
<p><strong>函数变量对象</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 模拟上面代码的变量对象</span>
<span class="token keyword">var</span> <span class="token constant">VO</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    argument<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
        length<span class="token operator">:</span><span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">c</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span>
	d<span class="token operator">:</span><span class="token keyword">undefined</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p4-zuo-yong-yu">4、作用域</span><a href="#p4-zuo-yong-yu" class="header-anchor">#</a></h2>
<p><strong>作用域 scope</strong> 是变量在程序中可以访问的有效访问，也被称为变量的可见性。作用域在进入全局执行环境或者函数执行环境时就已经确定好了。在<code>ES5</code>中，作用域分为两种：</p>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
</ul>
<p>**同一个函数的多次调用都会生成不同的执行环境，每次调用都会生成。 **</p>
<p><strong>全局变量</strong> 是定义在全局作用域中的变量，一般在函外部定义。在程序的所有地方都可以使用和操作。</p>
<p><strong>局部变量</strong> 是在函数内部定义的，在函数执行域中。只能在自己的作用域中起作用，只能在函数内部使用。外部无法使用和操作局部变量。</p>
<h2><span id="p5-zuo-yong-yu-lian">5、作用域链</span><a href="#p5-zuo-yong-yu-lian" class="header-anchor">#</a></h2>
<p><strong>作用域链</strong> 是用来查找变量的这样一系列的过程。一个函数在定义时会生成一个属性<code>[[scope]]</code>，这个属性存储的是函数定义时作用域的层级关系。作用域链是函数执行时创建的，是当前函数作用域链 -&gt; <code>[[scope]]</code>属性作用域组成的。函数当前执行的作用域是作用域链的顶端，全局作用域在作用域链的最后。执行环境销毁时，作用域链也会销毁。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 全局作用域</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// test -> 全局作用域</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// test2 -> test -> 全局作用域</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//100</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当执行 f1 时，创建函数 f1 的执行环境，并将该对象置于链表开头，然后将函数 f 的调用对象放在第二位，最后是全局对象，作用域链的链表的结构是 f1-&gt;f-&gt;window 。从链表的开头寻找变量 a，即 f1 函数内部找变量 a，找到了，结果是 20。同样，执行 f2 时，作用域链的链表的结构是 f2-&gt;f-&gt;window 。从链表的开头寻找变量 a，即 f2 函数内部找变量 a，找不到，于是从 f 内部找变量 a，找到了，结果是 10。最后在最外层打印出变量 a，直接从变量 a 的作用域即全局作用域内寻找，结果为 1。</p>
<h2><span id="p6-nei-cun-zhong-de-bian-liang-cun-chu">6、内存中的变量存储</span><a href="#p6-nei-cun-zhong-de-bian-liang-cun-chu" class="header-anchor">#</a></h2>
<p>变量如果是基本数据类型，会在直接在栈内存开辟一段存储空间标识符。然后将基本数据类型的值也存储在栈内存中和标识符对应起来。要求变量名不能重名，重名就会覆盖。</p>
<p>如果是引用数据类型，值储存在堆内存中，存储引用类型的时候标识符是储存在栈内存中的。（JS 不允许直接访问堆内存中的数据，只能通过引用访问，差不多就是在变量对象中存储一个指向对象的句柄，可以理解成是一个地址，要访问这个对象，就要通过这个引用句柄来访问）。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span>
c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1000,2,3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>程序一开始执行，进入全局环境，首先会创建全局环境并且压栈（执行栈），全局代码执行的时候依赖的是全局环境中的东西。全局变量如果是基本类型，那么这个值直接存在栈当中，如果这个变量的值是引用类型，那么引用类型会在堆内存中开辟自己的空间专门存储（数据本身）。然后里面的这块空间的地址存在栈当中对应的变量。</p>
<p>当函数执行碰到函数调用，函数执行时也要有自己的环境去依赖。函数执行也是创建自己的函数环境进行压栈（函数执行环境一定压在全局执行环境的上面）。局部变量，是在函数环境当中存在的，只有函数执行，局部变量才会出现，函数执行完成之后，函数环境要弹出栈（销毁归还内存），局部变量也就不存在了。</p>
<p>当函数调用完成之后，会继续执行全局代码，一直到所有的全局代码执行完成，代表程序执行结束，程序执行结束的时候，全局环境最后出栈（销毁）。</p>
<h2><span id="p7-sheng-ming-ti-sheng">7、声明提升</span><a href="#p7-sheng-ming-ti-sheng" class="header-anchor">#</a></h2>
<p>也称为预解析。在执行环境的第一步（创建阶段），会将带 var 的变量声明和函数声明，放到作用域中。在执行阶段时，它的相关逻辑还是放在原来的位置进行赋值和其他的逻辑处理。函数表达式和函数构造器不会被提升。函数声明和变量都会提升，但是函数声明会先提升，然后是变量。</p>
<p><strong>变量声明提升</strong> 通过 <code>var</code> 声明的变量，在定义语句之前就能访问到，值为 <code>undefined</code>。</p>
<p><strong>函数声明提升</strong> 通过 <code>function</code> 声明的函数，在前面就可以直接调用，值为函数定义（对象）。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220209/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220209</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220209/" class="post-title-link" itemprop="url">JavaScript 模块化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-02-02 15:08:34 / 修改时间：15:10:09" itemprop="dateCreated datePublished" datetime="2021-02-02T15:08:34+08:00">2021-02-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2><span id="p1-es6-module">1、ES6 Module</span><a href="#p1-es6-module" class="header-anchor">#</a></h2>
<blockquote>
<p>简称 <code>ESM</code></p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> test <span class="token keyword">from</span> <span class="token string">"./test"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2><span id="p2-nodejs-mo-kuai-hua">2、NodeJS 模块化</span><a href="#p2-nodejs-mo-kuai-hua" class="header-anchor">#</a></h2>
<h1><span id="commonjs">CommonJS</span><a href="#commonjs" class="header-anchor">#</a></h1>
<p>NodeJS 借鉴了 Common 规范实现了一套模块系统，称为 <strong>CommonJS</strong> 模块化系统。</p>
<h2><span id="p1-mo-kuai-bao-lu">1、模块暴露</span><a href="#p1-mo-kuai-bao-lu" class="header-anchor">#</a></h2>
<p>默认情况下模块内部代码对于外部来说都是不可见的，可以通过以下方式向外部暴露变量和函数。</p>
<p>（1）通过 <code>module.exports</code> 来向外部暴露变量和函数</p>
<p><code>module.exports</code> 是导出的对象。</p>
<p>无论添加还是直接覆盖，他永远都是导出的对象。</p>
<p>如果是导出一个对象，可以写</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>obj <span class="token operator">=</span> obj<span class="token punctuation">;</span>
<span class="token comment">//或者</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span> obj<span class="token operator">:</span> obj <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>如果导出一组对象，可以写</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">moudle<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> obj<span class="token operator">:</span> obj<span class="token punctuation">,</span> obj2<span class="token operator">:</span> obj2 <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果直接导出</p>
<pre class="line-numbers language-none"><code class="language-none">module.exports &#x3D; fun;
&#x2F;&#x2F; 导出的对象是 fun 函数<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>例子</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 暴露出去</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> add<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）将变量和函数设置为 <code>exports</code> 的属性来暴露变量和函数为了方便，Node 为每个模块提供一个 exports 变量，指向 module.exports，例如： <code>module.exports.fun = …</code>，相当于<code>exports.fun = ...</code>。</p>
<p><code>exports</code> 本身不具备导出功能，但是修改它的时候，其实是修改了<code>module.exports</code> 。<code>exports</code> 是指向 <code>moudlue.exports</code> 的对象地址的一个新对象。（<code>exports = xxx</code> 的用法是错误的，这样使其不再绑定。正确的用法是 <code>exports.xxx = xxx</code> ）</p>
<p>不能将一个值赋值给<code>exports</code>，而是使用<code>exports.XXX</code>来暴露。否则这样它将不再绑定到<code>module.exports</code>。如果 exports 导出的变量类型是引用类型如函数，则会断开与<code>module.exports</code>的地址指向，导致变量导出失败。因为最终还是要靠<code>module.exports</code>来导出变量的。</p>
<p>例子</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 暴露出去</span>
exports<span class="token punctuation">.</span>add <span class="token operator">=</span> add<span class="token punctuation">;</span> <span class="token comment">// &#123; add: [Function: add] &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p2-mo-kuai-dao-ru">2、模块导入</span><a href="#p2-mo-kuai-dao-ru" class="header-anchor">#</a></h2>
<p>通过 <code>require()</code> 来引入外部的模块</p>
<p>模块分为三种类型。</p>
<p>（1）系统模块</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>（2）第三方模块</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// npm install express -save</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>（3）自定义模块</p>
<p>可以不书写后缀名：默认按照 js json node 顺序解析</p>
<p>一定要加上<code>./</code> 或者 <code>../</code> 之类的路径 否则可能解析错误</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// f1,f2 是 函数 o1,o2 是对象</span>

<span class="token comment">// (1)</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>f1 <span class="token operator">=</span> f1<span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>f1<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>o1 <span class="token operator">=</span> o1<span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>o1<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// &#123; o1: &#123;...&#125;&#125;</span>

<span class="token comment">// (2)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>f1<span class="token operator">:</span>f1<span class="token punctuation">,</span> f2<span class="token operator">:</span>f2<span class="token punctuation">&#125;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// &#123; o1: &#123;...&#125;, o2: &#123;...&#125; &#125;</span>


<span class="token comment">// (3)</span>
exports<span class="token punctuation">.</span>f1 <span class="token operator">=</span> f1<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>f2 <span class="token operator">=</span> f2<span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>f1<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./mod/test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// (4)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./xxx/xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: f]</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>！实际使用例子</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// (1)</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span>
<span class="token operator">==</span><span class="token operator">></span>
<span class="token keyword">const</span> xxx <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p3-lu-jing-fen-xi-he-wen-jian-ding-wei">3、路径分析和文件定位</span><a href="#p3-lu-jing-fen-xi-he-wen-jian-ding-wei" class="header-anchor">#</a></h2>
<p>路径形式的文件模块：以<code>./</code> <code>../</code>路径形式的文件模块，将其转化为真实路径，根据真实路径索引去查找。</p>
<p>第三方模块会从 <code>node_modules</code> 逐层往上找，直到根目录的<code>node_modules</code>。</p>
<p><code>require()</code>中的文件，如果没有后缀名，会以<code>.js .json .node</code>次序补充扩展名，依次尝试。</p>
<h2><span id="p3-qi-ta-mo-kuai-hua">3、其他模块化</span><a href="#p3-qi-ta-mo-kuai-hua" class="header-anchor">#</a></h2>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220208/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220208</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220208/" class="post-title-link" itemprop="url">JavaScript 对象的存取器属性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-02-01 14:37:29 / 修改时间：19:10:30" itemprop="dateCreated datePublished" datetime="2021-02-01T14:37:29+08:00">2021-02-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="dui-xiang-de-cun-qu-qi-shu-xing">对象的存取器属性</span><a href="#dui-xiang-de-cun-qu-qi-shu-xing" class="header-anchor">#</a></h1>
<p>在对象里面直接使用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  math<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
  chinese<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">total</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>math <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>chinese
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">changeMath</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>math <span class="token operator">=</span> v1
    <span class="token keyword">this</span><span class="token punctuation">.</span>chinese <span class="token operator">=</span> v2
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token comment">// 170</span>
obj<span class="token punctuation">.</span>changeMath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token comment">// 100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意，在对象嵌套对象使用的时候，<code>this</code>属性是直接获取当前内部对象的属性。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220207/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220207</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220207/" class="post-title-link" itemprop="url">JavaScript async/await</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-02-01 00:43:05 / 修改时间：19:10:28" itemprop="dateCreated datePublished" datetime="2021-02-01T00:43:05+08:00">2021-02-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="async-await">async / await</span><a href="#async-await" class="header-anchor">#</a></h1>
<p><code>async</code> 是 <code>Promise</code> 和 <code>Generstor</code> 语法糖。</p>
<h2><span id="p1-async-han-shu">1、async 函数</span><a href="#p1-async-han-shu" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2><span id="p2-await-biao-da-shi">2、await 表达式</span><a href="#p2-await-biao-da-shi" class="header-anchor">#</a></h2>
<p><code>await</code> 表达式必须写在 <code>async</code> 函数中。</p>
<p><code>await</code> 右侧的表达式一般为 Promise 对象，但也可以是其他值。</p>
<p>如果表达式是 Promise 对象，返回的是 Promise 成功的值。如果失败的，则会抛出异常，需要通过 <code>try... catch</code> 捕捉。</p>
<p>如果是其他值，则直接将此值作为 await 的返回值。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 例子1</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Promise &#123; 1 &#125;</span>
result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 例子2</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">throw</span> <span class="token string">"异常"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Promise &#123; &lt;rejected> '异常' &#125;</span>
result
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 异常</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 例子3</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 失败的Promise</span>
result<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>await</code> 会阻塞函数的运行，需要等后边的异步代码执行完毕才会向下执行。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220206/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220206</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220206/" class="post-title-link" itemprop="url">函数柯里化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-31 22:38:34" itemprop="dateCreated datePublished" datetime="2021-01-31T22:38:34+08:00">2021-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:10:19" itemprop="dateModified" datetime="2021-02-01T19:10:19+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="han-shu-ke-li-hua">函数柯里化</span><a href="#han-shu-ke-li-hua" class="header-anchor">#</a></h1>
<p><strong>柯里化</strong>（Currying），是一种函数的转换，它是指将一个函数从可调用的 <code>f(a, b, c)</code> 转换为可调用的 <code>f(a)(b)(c)</code>。柯里化不会调用函数。它只是对函数进行转换。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220205/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220205</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220205/" class="post-title-link" itemprop="url">回调函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-31 14:22:45" itemprop="dateCreated datePublished" datetime="2021-01-31T14:22:45+08:00">2021-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:10:09" itemprop="dateModified" datetime="2021-02-01T19:10:09+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="hui-diao-han-shu">回调函数</span><a href="#hui-diao-han-shu" class="header-anchor">#</a></h1>
<p>回调函数（Callback）分为同步回调函数，异步回调函数。</p>
<p>什么函数才是回调函数?</p>
<ul>
<li>你定义的</li>
<li>你没有直接调用</li>
<li>但最终它执行了（在特定条件或时刻）</li>
</ul>
<p>常见的回调函数:</p>
<ul>
<li>DOM 事件函数</li>
<li>定时器函数</li>
<li>AJAX 回调函数</li>
<li>生命周期回调函数</li>
</ul>
<p>回调函数的特性导致其层层嵌套，形成<strong>回调地狱</strong>。</p>
<p>涉及面试题：什么是回调函数？回调函数有什么缺点？如何解决回调地狱问题？</p>
<p><strong>回调函数</strong>（Callback）分为同步回调（数组遍历）和异步回调。</p>
<p>使用回调函数容易导致回调地狱问题。回调地狱的根本问题就是：</p>
<ol>
<li>嵌套函数存在耦合性，一旦有所改动，就会牵一发而动全身</li>
<li>嵌套函数一多，就很难处理错误。</li>
</ol>
<p>当然，回调函数还存在着别的几个缺点，比如不能使用 <code>try catch</code> 捕获错误，不能直接 <code>return</code>。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 输出 3 3 3</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 输出 0 1 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>面试题</code> 简述同步和异步的区别，如何避免回调地狱？</p>
<p>同步：方法调用一旦开始，调用者必须等到方法调用返回后，才能继续后续的行为</p>
<p>异步：方法调用一旦开始，方法调用就会立刻返回，调用者就可以继续后续的操作，而异步方法通常会在另外一个线程中，整个过程畅通无阻。</p>
<p>避免回调地狱：</p>
<ul>
<li>Promise</li>
<li>async / await</li>
<li>generator</li>
<li>事件发布/监听模式</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220204/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220204</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220204/" class="post-title-link" itemprop="url">ES Generstor</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-31 14:09:30" itemprop="dateCreated datePublished" datetime="2021-01-31T14:09:30+08:00">2021-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:10:00" itemprop="dateModified" datetime="2021-02-01T19:10:00+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="generstor">Generstor</span><a href="#generstor" class="header-anchor">#</a></h1>
<p>状态机，异步生成器。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">yield</span> <span class="token operator">...</span>
    <span class="token keyword">yield</span> <span class="token operator">...</span>
<span class="token punctuation">&#125;</span>
    
gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Generstor</code> 是可迭代的（<code>for.. of</code>）。</p>
<p>例子：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 使用计时器模拟依次请求 a数据 b数据</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">yield</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a数据请求成功"</span><span class="token punctuation">)</span>
        it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"b数据请求成功"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 开始请求</span>
<span class="token keyword">const</span> it <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220203/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220203</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220203/" class="post-title-link" itemprop="url">ES this</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-31 14:03:52" itemprop="dateCreated datePublished" datetime="2021-01-31T14:03:52+08:00">2021-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:09:50" itemprop="dateModified" datetime="2021-02-01T19:09:50+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-this">ES this</span><a href="#es-this" class="header-anchor">#</a></h1>
<p>JS 的作用域是静态的，但是函数的调用却是动态的，由于函数可以在不同的运行环境内执行，因此 JS 在函数体内定义了<code>this</code>关键字来获取当前的运行环境。<strong>this</strong> 最终代表的是函数的<strong>执行者，使用者，调用者</strong>。它是一个指针型变量。</p>
<h2><span id="p1-ru-he-pan-duan-this-zhi-xiang">1、如何判断 this 指向</span><a href="#p1-ru-he-pan-duan-this-zhi-xiang" class="header-anchor">#</a></h2>
<ul>
<li>函数是否在<code>new</code>中调用，如果是的话，<code>this</code>绑定的是新创建的对象</li>
<li>函数是否通过<code>call</code>、<code>apply</code> 显示绑定，如果是，则<code>this</code>绑定的是执行的对象</li>
<li>函数是否在某个上下文中调用，如果有，则<code>this</code>绑定在这个上下文对象上</li>
<li>如果都不是，默认绑定<code>window</code></li>
</ul>
<h3><span id="p1-1-mo-ren-bang-ding">1.1 默认绑定</span><a href="#p1-1-mo-ren-bang-ding" class="header-anchor">#</a></h3>
<p><code>this</code> 默认指向 <code>window</code>，在无法应用其他规则的时候使用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">do</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// foo是直接使用不带任何修饰的函数引用进行调用，因此只能使用默认绑定规则</span>

obj<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p1-2-yin-shi-bang-ding">1.2 隐式绑定</span><a href="#p1-2-yin-shi-bang-ding" class="header-anchor">#</a></h3>
<p>当函数引用有上下文对象的时候（obj），隐式绑定规则会把函数中的 this 绑定到这个上下文对象上。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> foo<span class="token operator">:</span> foo <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token comment">// 当foo调用的时候，它的落脚点确实是指向的obj对象，当函数引用有上下文对象的时候（obj），隐式绑定规则会把函数中的this绑定到这个上下文对象上。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>隐式绑定可能会出现隐式丢失问题。被隐式绑定的函数，丢失了绑定对象</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  foo<span class="token operator">:</span> foo<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fn1 <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
<span class="token comment">// 虽然fn1是obj.foo的一个引用，但是实际上它的引用是foo函数本身，因此fn1其实是一个不带任何修饰的函数调用，属于默认绑定</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>每个函数对象都有 call 和 apply 方法，本质是设置函数体内 this 对象的值。</p>
<h2><span id="p2-call-apply-bind">2、call、apply、bind</span><a href="#p2-call-apply-bind" class="header-anchor">#</a></h2>
<p><code>call</code>、<code>apply</code>、<code>bind</code> 是 <a href>Function</a> 对象自带的方法。</p>
<p>这三个函数的存在意义是<strong>改变函数执行时的上下文</strong>，再具体一点就是<strong>改变函数运行时的 this 指向</strong>。</p>
<h3><span id="p2-1-call">2.1 call</span><a href="#p2-1-call" class="header-anchor">#</a></h3>
<p><strong>call()</strong> 方法在使用一个指定的 this 值和若干个指定的参数值的前提下调用某个函数或方法。当调用一个函数时，可以赋值一个不同的 <code>this</code> 对象。<code>this</code> 引用当前对象，即 <code>call</code> 方法的第一个参数。</p>
<p>通过 <code>call</code> 方法，你可以在一个对象上借用另一个对象上的方法</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 语法</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> thisArg<span class="token punctuation">[</span><span class="token punctuation">,</span> arg1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 参数列表</span>
<span class="token comment">// - thisArg 指定函数运行时的 this值</span>
<span class="token comment">//   - 不传，或者传 null，undefined， 函数中的this指向window对象</span>
<span class="token comment">//   - 传递另一个函数的函数名，函数中的this指向这个函数的引用，并不一定是该函数执行时真正的this值</span>
<span class="token comment">//   - 值为原始值(数字，字符串，布尔值)的this会指向该原始值的自动包装对象，如 String Number Boolean</span>
<span class="token comment">//   - 传递一个对象，函数中的this指向这个对象</span>
<span class="token comment">// - arg 函数所需要的参数，逗号间隔</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//输出函数a中的this对象</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//定义函数b</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">"我是obj"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//定义对象obj</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Number</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//String</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Boolean</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function b()&#123;&#125;</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Object</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-2-apply">2.2 apply</span><a href="#p2-2-apply" class="header-anchor">#</a></h3>
<p><strong>apply</strong>() 语法与 <code>call()</code> 方法的语法几乎完全相同，唯一的区别在于，apply 的第二个参数必须是一个包含多个参数的数组（或类数组对象）。</p>
<h3><span id="p2-3-bind">2.3 bind</span><a href="#p2-3-bind" class="header-anchor">#</a></h3>
<p><code>bind</code> 函数会创建一个新函数（称为绑定函数）</p>
<ul>
<li>传参和 call 或 apply 类似</li>
<li>不会执行对应的函数，call 或 apply 会自动执行对应的函数</li>
<li>返回对函数的引用</li>
<li>语法 <code>fun.bind(thisArg[, arg1[, arg2[, ...]]])</code>。</li>
</ul>
<h3><span id="p2-4-call-de-shi-xian">2.4 call 的实现</span><a href="#p2-4-call-de-shi-xian" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 1. 把调用call方法的对象this指向call方法的第一个参数</span>
  <span class="token comment">// 2. 调用call方法的自己的this</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220202/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220202</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220202/" class="post-title-link" itemprop="url">闭包</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-12 14:25:56" itemprop="dateCreated datePublished" datetime="2021-01-12T14:25:56+08:00">2021-01-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:09:40" itemprop="dateModified" datetime="2021-02-01T19:09:40+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="bi-bao">闭包</span><a href="#bi-bao" class="header-anchor">#</a></h1>
<h2><span id="p1-shi-me-shi-bi-bao">1、什么是闭包</span><a href="#p1-shi-me-shi-bi-bao" class="header-anchor">#</a></h2>
<p>闭包是一个包含被引用局部变量的 <code>closure</code> 对象，存在嵌套的内部函数中。</p>
<h2><span id="p2-zen-me-chan-sheng-bi-bao-amp-sheng-ming-zhou-qi">2、怎么产生闭包 &amp; 生命周期</span><a href="#p2-zen-me-chan-sheng-bi-bao-amp-sheng-ming-zhou-qi" class="header-anchor">#</a></h2>
<p>必须满足三个条件</p>
<ul>
<li>函数嵌套函数</li>
<li>内部函数调用外部函数的局部变量（引入全局变量是不会产生闭包的）</li>
<li>调用外部函数</li>
</ul>
<p>生命周期</p>
<ul>
<li>内部函数定义执行完成就产生</li>
<li>内部函数成为垃圾对象就销毁</li>
</ul>
<h2><span id="p3-bi-bao-de-zuo-yong-yu-que-dian">3、闭包的作用与缺点</span><a href="#p3-bi-bao-de-zuo-yong-yu-que-dian" class="header-anchor">#</a></h2>
<p>作用</p>
<ul>
<li>延长了局部变量的存活时间</li>
<li>让函数外部操作函数内部的数据</li>
</ul>
<p>缺点</p>
<ul>
<li>用太多可能会导致内存泄露（因为占用内部空间不释放）</li>
</ul>
<h2><span id="p4-bi-bao-de-ying-yong">4、闭包的应用</span><a href="#p4-bi-bao-de-ying-yong" class="header-anchor">#</a></h2>
<ul>
<li>迭代器</li>
<li>React 组件高阶函数（为了复用函数，给内部函数传参）</li>
<li>Vue 原理中存在（双向数据绑定原理）</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/220201/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop= "name" content="KEEL">
      <meta itemprop="description" content="这个人很懒，什么都没留下。 ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永远的伊尔瓦">
    </span>
      <header class="post-header">
        <!-- 自定义id -->
        <span style="color:#666; font-size:12px; padding:3px; border:1px solid #666;">220201</span>
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/220201/" class="post-title-link" itemprop="url">ES 面向对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-30 17:32:52" itemprop="dateCreated datePublished" datetime="2021-01-30T17:32:52+08:00">2021-01-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-01 19:09:29" itemprop="dateModified" datetime="2021-02-01T19:09:29+08:00">2021-02-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/2202%EF%BC%9AES%E9%AB%98%E7%BA%A7/" itemprop="url" rel="index"><span itemprop="name">2202：ES高级</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="es-mian-xiang-dui-xiang">ES 面向对象</span><a href="#es-mian-xiang-dui-xiang" class="header-anchor">#</a></h1>
<p>面向对象和面向过程是两种不同的编程思想和方法。<br>
面向过程是以过程为中心，就像流水线一样设计程序的思想。面向对象是以对象为中心的编程思想。更符合人类的思维习惯。<br>
在面向对象的概念中，<strong>类</strong>是一类相似事物的统称，对象是类的实例化，类是对象的模版。（JS 中没有具体类的概念，ES6 引入的类实际上是函数。）<br>
面向对象的三个基本特性: <strong>封装、继承、多态</strong>。<br>
<strong>对象（Object）</strong> 可以是一个变量，一个函数，一种数据结构。在 JS 中，一切皆为对象。JS 允许自定义对象，从狭义的概念来分析，对象是最基本的数据类型，是复合型的结构、引用型的数据，它是无序数据集合。对象中每个成员被称为<strong>属性</strong>。对象是无序的键值对，数组是有序的键值对，函数是一种可执行的特殊对象。</p>
<p><strong>实例对象</strong>与<strong>函数对象</strong>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">KEEL</p>
  <div class="site-description" itemprop="description">这个人很懒，什么都没留下。 </div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">187</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">77</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KEEL</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  

</body>
</html>
