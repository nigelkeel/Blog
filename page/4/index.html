<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"nigelkeel.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="暂无描述">
<meta property="og:type" content="website">
<meta property="og:title" content="飞鱼">
<meta property="og:url" content="http://nigelkeel.gitee.io/page/4/index.html">
<meta property="og:site_name" content="飞鱼">
<meta property="og:description" content="暂无描述">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="KEEL">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://nigelkeel.gitee.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>飞鱼</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">飞鱼</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/1-%E8%A1%A8%E7%8E%B0/19-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1-%E8%A1%A8%E7%8E%B0/19-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/" class="post-title-link" itemprop="url">移动端适配</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-11 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-11T00:00:00+08:00">2020-07-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-27 16:32:18" itemprop="dateModified" datetime="2020-08-27T16:32:18+08:00">2020-08-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="yi-dong-duan-gua-pei">移动端适配</span><a href="#yi-dong-duan-gua-pei" class="header-anchor">#</a></h1>
<p>视口 viewport</p>
<p>rem</p>
<p>触摸事件</p>
<p>vh vw</p>
<ul>
<li>width=device-width：让宽度=设备缩放之后的宽度，就是320、360、375、414这些。</li>
<li>initial-scale=1：初始化的缩放比例1，这个属性和css中transform: scale(1);有异曲同工之妙。</li>
<li>minimum-scale=1：最小缩放比例，相当于你给div设置mix-height一样，带有限制。</li>
<li>maximum-scale=1：最大缩放比例，同上，不说了。</li>
<li>user-scalable=no：是否允许用户使用双指进行缩放，（默认不允许）。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/44-ES6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/44-ES6/" class="post-title-link" itemprop="url">ES6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-11 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-11T00:00:00+08:00">2020-07-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-27 16:52:18" itemprop="dateModified" datetime="2020-08-27T16:52:18+08:00">2020-08-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/32-JSON/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/32-JSON/" class="post-title-link" itemprop="url">JSON对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-10T00:00:00+08:00">2020-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-28 08:26:07" itemprop="dateModified" datetime="2020-08-28T08:26:07+08:00">2020-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>JSON</strong> 是ES内置对象（不用定义就能用）。</p>
<p>json 是一种常用于前后端数据交互的格式，本质是字符串。</p>
<h3><span id="p1-json-zhi">1、json 值</span><a href="#p1-json-zhi" class="header-anchor">#</a></h3>
<p>可以表示三种类型数据：</p>
<p>（1）简单值</p>
<p>除了 <code>undefined</code> 之外的基本数据类型，<strong>表示字符串必须使用双引号。</strong></p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token number">5</span>
<span class="token string">"hello world"</span>   <span class="token comment">//表示字符串需加双引号</span>
<span class="token null keyword">null</span>
<span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）对象 表示的是一组无序的键值对，属性必须用双引号包起来。</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"Tom"</span><span class="token punctuation">,</span>
    <span class="token string">"age"</span>"<span class="token number">18</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>（3）数组 有序的集合、键值对。</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">"hi"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3><span id="p2-json-shu-ju-chu-li">2、json 数据处理</span><a href="#p2-json-shu-ju-chu-li" class="header-anchor">#</a></h3>
<p>用于前后台发送数据。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token comment">// 将JS值序列化JSON字符串（不包含任何空格和缩进）</span>
<span class="token comment">// 参数:</span>
<span class="token comment">// 1. JS 值</span>
<span class="token comment">// 2. 函数、原型成员、undefined会被忽略</span>

<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token comment">// 将JSON字符串解析成原生的JS值</span>
<span class="token comment">// 参数</span>
<span class="token comment">// 1. json 字符串</span>
<span class="token comment">// 2. 不是有效的json字符串就会报错 </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/33-Date%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/33-Date%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">JS Date 对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-10T00:00:00+08:00">2020-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-26 20:16:39" itemprop="dateModified" datetime="2020-08-26T20:16:39+08:00">2020-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88%E5%9F%BA/" itemprop="url" rel="index"><span itemprop="name">技术栈基</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>Date</code> 是JS中用来处理<strong>日期和时间</strong>的内置对象。</p>
<p><a target="_blank" rel="noopener" href="http://doc.lipeihua.vip:8800/#/./JS%E5%9F%BA%E7%A1%80/11.Date%E5%AF%B9%E8%B1%A1">参考链接</a></p>
<h1><span id="yi-ji-ben-shi-yong">一、基本使用</span><a href="#yi-ji-ben-shi-yong" class="header-anchor">#</a></h1>
<p>获取一个Date对象</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
now <span class="token comment">// 2020-08-26T12:11:25.743Z</span>
<span class="token keyword">typeof</span> now <span class="token comment">// object</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>创建一个时间</p>
<ul>
<li>传入一个毫秒数（会把毫秒数转换成一个时间c  然后加上1970年1月1日 8：00 的时间）</li>
<li>传入一个字符串格式的时间</li>
<li>传入多个参数 分别代表年 月 日 时 分 秒 毫秒</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1546354578234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2019-10-01 8:0:0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2019-10-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果不写时间 只写年月日 那么时间按照00点来计算</span>
<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"8:0:0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Invalid Date 如果不写年月日 那么时间是错误的</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//当数字形式传递或者获取月份的时候，月份是从0开始算  0 代表 1月</span>
<span class="token keyword">var</span> date3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//时间超出分为 会自动向前进一位  但是不建议这么写</span>
<span class="token keyword">var</span> date3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date3<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1><span id="er-shi-jian-chuo">二、时间戳</span><a href="#er-shi-jian-chuo" class="header-anchor">#</a></h1>
<p><strong>时间戳</strong>是一个整数，保存1970年1月1日到现在的毫秒数。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取当前的时间戳</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取当前时间</span>
<span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// now => 2020-07-14T06:00:41.645Z</span>

<span class="token comment">// 作为构造函数使用</span>
<span class="token keyword">var</span> dt  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>年<span class="token punctuation">,</span>月<span class="token punctuation">,</span>日<span class="token punctuation">,</span><span class="token punctuation">[</span>时<span class="token punctuation">,</span>分<span class="token punctuation">,</span>秒<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>自动校准机制：超过范围的会自动换算。</p>
<h1><span id="san-shi-jian-huo-qu">三、时间获取</span><a href="#san-shi-jian-huo-qu" class="header-anchor">#</a></h1>
<table>
<thead>
<tr>
<th>方法</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getFullYear</code></td>
<td>获得四位年份</td>
</tr>
<tr>
<td><code>getMonth</code></td>
<td>获取月份，0-11 ！</td>
</tr>
<tr>
<td><code>getDate</code></td>
<td>获取月份中的天数，1-31</td>
</tr>
<tr>
<td><code>getDay</code></td>
<td>获取星期，0表示周日，0-6</td>
</tr>
<tr>
<td><code>getHours</code></td>
<td>小时，0-23</td>
</tr>
<tr>
<td><code>getMinutes</code></td>
<td>分钟，0-59</td>
</tr>
<tr>
<td><code>getSecond</code></td>
<td>秒数，0-59</td>
</tr>
</tbody>
</table>
<h1><span id="si-she-zhi-dan-du-de-shi-jian">四、设置单独的时间</span><a href="#si-she-zhi-dan-du-de-shi-jian" class="header-anchor">#</a></h1>
<ul>
<li>设置年份 setFullYear</li>
<li>设置月份 setMonth</li>
<li>设置日 setDate</li>
<li>设置小时 setHours</li>
<li>设置分钟 setMinutes</li>
<li>设置秒 setSeconds</li>
<li>设置毫秒 setMilliseconds</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>设置时间<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置年份</span>
    now<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置月份</span>
    now<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置日期</span>
    now<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置 小时</span>
    now<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置分钟</span>
    now<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置秒</span>
    now<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//设置毫秒</span>
    now<span class="token punctuation">.</span><span class="token function">setMilliseconds</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span>

    <span class="token comment">//设置星期  不允许 没有这个方法</span>
    now<span class="token punctuation">.</span><span class="token function">setDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>设置一个3天后的当前时间</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">
 <span class="token comment">//设置一个3天后的当前时间</span>
<span class="token comment">/* //获取当前时间
 var now = new Date();
 //获取当前时间的日期
 var nowDate = now.getDate();
 //让当前的日期 加上3
 newDate = nowDate+3;

 // 获取一个当前的时间，然后把当前时间的日期 设置为newDate
 // console.log(newDate)
 var newTime = new Date();
 newTime = newTime.setDate(newDate);
 console.log(newTime);*/</span>


 <span class="token keyword">var</span> threeDatLast <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 threeDatLast<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>threeDatLast<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1><span id="si-shi-li-dai-ma">四、示例代码</span><a href="#si-shi-li-dai-ma" class="header-anchor">#</a></h1>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取类似 2020-08-08 12:04:56 格式的字符串</span>
<span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span>
        <span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span>
        time<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/34-Math%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/34-Math%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">Math 对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-10T00:00:00+08:00">2020-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-27 15:58:35" itemprop="dateModified" datetime="2020-08-27T15:58:35+08:00">2020-08-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88%E5%9F%BA/" itemprop="url" rel="index"><span itemprop="name">技术栈基</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>Math</code> 是JS内置的数学处理对象。</p>
<h1><span id="yi-ji-ben-shi-yong">一、基本使用</span><a href="#yi-ji-ben-shi-yong" class="header-anchor">#</a></h1>
<h2><span id="p1-jin-zhi">1、进制</span><a href="#p1-jin-zhi" class="header-anchor">#</a></h2>
<p>（1）进制表示</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 二进制</span>
<span class="token number">0b101</span>

<span class="token comment">// 八进制</span>
<span class="token number">0o123</span>

<span class="token comment">// 十六进制</span>
<span class="token number">0x123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）进制转换（待补充）</p>
<h2><span id="p2-qu-zheng">2、取整</span><a href="#p2-qu-zheng" class="header-anchor">#</a></h2>
<p>将小数转换成整数，如果是整数则不改变。</p>
<ul>
<li><code>Math.ceil()</code>  进一取整</li>
<li><code>Math.floor()</code> 舍一取整</li>
<li><code>Math.round()</code>  标准的四舍五入</li>
</ul>
<h2><span id="p3-zui-zhi">3、最值</span><a href="#p3-zui-zhi" class="header-anchor">#</a></h2>
<p><code>Math.max()</code> <code>Math.min()</code> 获取一个参数列表的最大值，最小值。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取一个数组的最值</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>

<span class="token comment">// ES5</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES6</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p4-shu-xue-yun-suan">4、数学运算</span><a href="#p4-shu-xue-yun-suan" class="header-anchor">#</a></h2>
<p><code>Math.abs()</code>  取绝对值</p>
<p><code>Math.pow(底数，次方)</code> <code>**</code> 幂运算</p>
<p><code>Math.PI</code> 圆周率π</p>
<p><code>Math.random()</code> 返回大于等于0小于1的一个随机数</p>
<p><code>Math.sign()</code>   判断正负<br>正数 <code>1</code><br>零或者 <code>null</code>  <code>0</code><br>负数 <code>-1</code><br>其他 <code>NaN</code></p>
<p><code>Math.sqrt()</code> <code>Math.cbrt()</code> <code>Math.hypot(3, 4)==5</code>  平分根、立方根</p>
<h2><span id="p5-bu-chong">5、补充</span><a href="#p5-bu-chong" class="header-anchor">#</a></h2>
<p>去掉小数部分 <code>Math.trunc()</code></p>
<h2><span id="p"></span><a href="#p" class="header-anchor">#</a></h2>
<h1><span id="er-kuo-zhan-ying-yong">二、扩展应用</span><a href="#er-kuo-zhan-ying-yong" class="header-anchor">#</a></h1>
<h2><span id="p1-sheng-cheng-zhi-ding-fan-wei-de-sui-ji-shu">1、生成指定范围的随机数</span><a href="#p1-sheng-cheng-zhi-ding-fan-wei-de-sui-ji-shu" class="header-anchor">#</a></h2>
<p><code>Math.floor (Math. random()*( MAX-MIN+1 ) + MIN)</code></p>
<h2><span id="p2-sheng-cheng-wei-yi-de-sui-ji-zi-fu-chuan">2、生成唯一的随机字符串</span><a href="#p2-sheng-cheng-wei-yi-de-sui-ji-zi-fu-chuan" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">uniqueId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// substring去掉.</span>
  <span class="token keyword">const</span> randomNum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// .toString(32) 转换为32进制</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>randomNum <span class="token operator">+</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/28-JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/28-JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">JS 面向对象基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-08T00:00:00+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-28 10:26:56" itemprop="dateModified" datetime="2020-08-28T10:26:56+08:00">2020-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2><span id="pyi-mian-xiang-dui-xiang-ji-ben-gai-nian">一、面向对象基本概念</span><a href="#pyi-mian-xiang-dui-xiang-ji-ben-gai-nian" class="header-anchor">#</a></h2>
<p><strong>面向对象</strong>和<strong>面向过程</strong>是两种截然不同的编程思想和方法。面向过程是以过程为中心，就像流水线一样设计程序的思想。面向对象是以对象为中心的编程思想。更符合人类的思维习惯。</p>
<p>在面向对象的概念中，**类<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>**是一类相似事物的统称，对象是类的实例化，类是对象的模版。</p>
<p>面向对象的三个基本特性: <strong>封装、继承、多态</strong>。</p>
<p><strong>对象（Object）</strong> 可以是一个变量，一个函数，一种数据结构。在JS中，==一切皆为对象==。JS允许自定义对象，从狭义的概念来分析，对象是最基本的数据类型，是复合型的结构、引用型的数据，它是无序数据集合<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>。对象中每个成员被称为<strong>属性</strong>。</p>
<h2><span id="per-dui-xiang-de-sheng-ming-he-shi-yong">二、对象的声明和使用</span><a href="#per-dui-xiang-de-sheng-ming-he-shi-yong" class="header-anchor">#</a></h2>
<h3><span id="p1-zi-mian-liang-fang-shi-sheng-ming">1. 字面量方式声明</span><a href="#p1-zi-mian-liang-fang-shi-sheng-ming" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sleep</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 函数体</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>字面量方式声明的对象由多个<strong>键值对</strong>组成，每个键值对之间用逗号分隔。每个键值对就是一个<strong>属性</strong>，包括属性名和属性值。</p>
<p>属性名是字符串并且通常情况下不加引号，如果是其他类型也会转换成字符串。如果键名不符合变量命名规则必须加上引号。</p>
<p>属性值可以是任意东西，包括对象。</p>
<h3><span id="p2-gou-zao-han-shu-fang-shi-sheng-ming-new-object">2、构造函数方式声明（new Object）</span><a href="#p2-gou-zao-han-shu-fang-shi-sheng-ming-new-object" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">          <span class="token comment">// 构造函数</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span>
<span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span><span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token function-variable function">sleep</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>new</code> 是操作符，调用后面的 <strong>构造函数</strong> 创建一个对象<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>。</p>
<p>构造函数可以使用return语句，如果return的是基本类型数据，那么值会被忽略。如果返回的是其他对象，那么就返回这个对象。</p>
<p>函数既是对象也是可以执行的代码块：</p>
<ul>
<li>在对象方面来说它也有属性和方法。</li>
<li>从代码块方面来说，既可以执行特定的代码块（普通函数），又可以创建特定类型的对象（函数的构造调用）
<ul>
<li>普通函数，没有return返回的是undefined，return返回的是指定的值。</li>
<li>函数的构造调用，没有return，返回的是新生成的对象。有的话看是基本数据类型还是对象。</li>
</ul>
</li>
</ul>
<h3><span id="p3-gong-han-mo-shi-sheng-ming">3、工厂模式声明</span><a href="#p3-gong-han-mo-shi-sheng-ming" class="header-anchor">#</a></h3>
<p>上面两种声明对象的最大缺点就是代码重复，会产生大量重复的代码。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">     <span class="token comment">// 一般要首字母大写</span>
<span class="token keyword">function</span> <span class="token function">Obj</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p4-dui-xiang-de-ji-ben-cao-zuo">4、对象的基本操作</span><a href="#p4-dui-xiang-de-ji-ben-cao-zuo" class="header-anchor">#</a></h3>
<p>（1）访问对象中的属性</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 第一种方法</span>
obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

<span class="token comment">// 第二种方法，最大优点是可以通过变量、表达式来访问属性</span>
obj<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 1. 如果键名命名不符合标识符命名规则</span>
<span class="token comment">// 则只能通过第二种方法访问。</span>
<span class="token comment">// 2. 点操作符比比中括号操作符高</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）增加和修改属性</p>
<p>（3）删除属性：<code>delete 对象.属性</code></p>
<blockquote>
<p><strong>变量带var和不带var的区别</strong></p>
<p>window对象是JS中最顶层对象。在全局中声明的变量（即带var的）会作为window对象的属性（变量）。不带var的变量也会被作为window对象的属性，他只是window对象的属性。var声明的全局变量不能使用delete删除，但是不带var的所谓全局变量可以用delete删除，因为它只是属性。</p>
</blockquote>
<p>（4）遍历对象：<code>for...in</code> 遍历对象，其遍历的是可枚举的自身属性和原型链中的属性。</p>
<h3><span id="p5-dui-xiang-de-chuang-jian-mo-shi">5、对象的创建模式</span><a href="#p5-dui-xiang-de-chuang-jian-mo-shi" class="header-anchor">#</a></h3>
<p>（1）构造函数模式</p>
<p>先创建空对象，再动态添加属性和方法</p>
<p>适用于 起始不能确定对象内部数据</p>
<p>问题 语句太多</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">ver p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）对象字面量模式</p>
<p>使用<code>&#123; &#125;</code>创建对象，同时指定属性和方法</p>
<p>适用于 起始时对象内部数据是确定的</p>
<p>问题 如果创建多个对象，有重复代码</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（3）工厂模式</p>
<p>通过工厂函数动态创建对象并返回</p>
<p>适用于 需要创建多个对象</p>
<p>问题 对象没有一个具体的类型，都是 Object 类型</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
          name<span class="token operator">:</span> name<span class="token punctuation">,</span>
          age<span class="token operator">:</span> age<span class="token punctuation">,</span>
          <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> p<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（4）自定义构造函数模式</p>
<p>自定义构造函数，通过 <code>new</code> 创建对象</p>
<p>适用 需要多个类型确定的对象</p>
<p>问题 每个对象都有相同的数据，浪费内存</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 在构造函数中书写的属性和方法都是实例化对象私有</span>
    <span class="token comment">// 每个实例化对象在构造函数中的属性方法都不一样</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom2'</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>==（5）构造函数 + 原型的组合模式==</p>
<p>自定义构造函数，属性在函数中初始化，方法添加到原型上</p>
<p>适用 需要创建多个类型确定的对象</p>
<p>==属性一般来说都是对象私有的，而方法基本上都是对象公有的==</p>
<p>构造函数模式用于定义实例属性，原型模式用于定义方法和共享的属性。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 属性一般来说都是私有的</span>
<span class="token comment">// 并且只有在构造函数中才能给对象的属性传参</span>
<span class="token comment">// 方法基本上都是公有的</span>
<span class="token comment">// 所以方法基本写在原型对象上</span>


<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">&#125;</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'JAck'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'TOM3'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p6-object-create-xu-yao-bu-chong">6、Object.create ==需要补充==</span><a href="#p6-object-create-xu-yao-bu-chong" class="header-anchor">#</a></h3>
<p><code>Object.create( prototype, descriptors)</code><br>
**<code>Object.create(prototype [, descriptors])</code> **</p>
<p>ES5新增的一个静态方法，用来定义一个实例对象。</p>
<ul>
<li>参数<code>prototype</code> 必须是一个已有对象或者<code>null</code>，是新创建这个对象的原型对象。==指定原型对象，继承方式。==</li>
<li>参数<code>descriptors</code> 可选，设置新创建的对象。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建一个以已有对象obj为原型变量的对象</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> Objcet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token comment">// 创建一个普通对象（字面量）</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>protype<span class="token punctuation">)</span>
<span class="token comment">// 创建一个干净的对象</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token comment">// 创建一个干净的对象并设置</span>
<span class="token keyword">var</span> obj4 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span><span class="token punctuation">&#123;</span> <span class="token comment">// 对象的特性描述必须是一个对象</span>
        value<span class="token operator">:</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> 
        <span class="token comment">// 指定属性值</span>
        writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
        <span class="token comment">// 设置值是否可写，默认false</span>
        enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置属性是否可以枚举（遍历），默认</span>
        configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置属性是否可修改特性和删除特性，默认</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong><code>Object.defineProperty(obj, prop, descriptors)</code></strong></p>
<p>给对象添加属性或者修改现有属性（可以设置属性的描述）</p>
<ul>
<li>参数<code>prop</code> 要修改的属性，要加字符串</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 例子</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    value<span class="token operator">:</span> <span class="token string">"Java"</span><span class="token punctuation">,</span>
    <span class="token comment">// 如果这个属性的正常创建的，则正常使用，如枚举</span>
    <span class="token comment">// wriable, enumerable, configurable </span>
    <span class="token comment">// 同 Object.create</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong><code>Object.defineProperties( obj, descriptors)</code></strong></p>
<p>可以同时设置多个属性，格式和<code>Object.create()</code>基本相同。</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>JS中没有具体类的概念，ES6 引入的类实际上是函数。 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>对象是无序的键值对，数组是有序的键值对，函数是一种可执行的特殊对象。 <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>字面量方式创建对象也会在内部调用<code>new Object</code>。 <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/29-JS%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/29-JS%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/" class="post-title-link" itemprop="url">JS 原型、继承</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-08T00:00:00+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-26 20:31:31" itemprop="dateModified" datetime="2020-08-26T20:31:31+08:00">2020-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2><span id="psan-yuan-xing">三、原型 △△</span><a href="#psan-yuan-xing" class="header-anchor">#</a></h2>
<h3><span id="p1-han-shu-de-prototype-shu-xing-xian-shi-yuan-xing">1. 函数的 prototype 属性（显式原型）</span><a href="#p1-han-shu-de-prototype-shu-xing-xian-shi-yuan-xing" class="header-anchor">#</a></h3>
<p>每个函数在创建的时候都会创建一个 <strong><code>prototype</code></strong> 属性（指针），指向函数的<strong>原型对象</strong>。该属性中存储的是一个对象的引用（默认是一个空对象）。</p>
<blockquote>
<p>Foo.prototype === Foo 的原型对象</p>
</blockquote>
<p>在原型对象中也有一个属性叫 <strong><code>constructor</code></strong> ，指向的是拥有这个原型对象的<a href>构造函数</a>。</p>
<blockquote>
<p>Foo.prototype.constructor === Foo</p>
</blockquote>
<p><img src="/2-%E8%A1%8C%E4%B8%BA/29-JS%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/007S8ZIlgy1gh1cmo2y3mj31ae0ccdh3.jpg" alt="img"></p>
<p>prototype 属性只有在函数被当做构造函数调用的时候（函数的构造调用）才会生效。==由同一个构造函数生成的各个实例对象之间共享属性和方法。==</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
fun<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 是一个object</span>

fun<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> fun<span class="token punctuation">;</span><span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-shi-li-dui-xiang-de-proto-shu-xing-yin-shi-yuan-xing">2. 实例对象的 <code>__proto__</code> 属性（隐式原型）</span><a href="#p2-shi-li-dui-xiang-de-proto-shu-xing-yin-shi-yuan-xing" class="header-anchor">#</a></h3>
<p>当调用构造函数创建一个新实例之后，该实例内部将包含一个内部属性 <strong><code>__proto__</code></strong>，指向构造函数的原型对象。==实例化之后才能用==。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 构造函数中给this扩展的属性是私有的</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"xxx"</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// f1是fun的实例化对象</span>

<span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">"18"</span>
f1<span class="token punctuation">.</span>age <span class="token comment">// 18</span>
<span class="token comment">// f1上面没有age所以通过f1的__proto__属性</span>
<span class="token comment">// 找到f的构造函数的原型对象</span>

<span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> f1<span class="token punctuation">.</span>__proto__<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>构造函数中的 prototype 属性（显示原型）和构造函数实例化出来的对象 <code>__proto__</code>属性（隐式原型）指向同一个对象。</p>
<p>先在本对象中查找对应的属性，找不到去 <code>__proto__</code> 里面找。</p>
<p>在原型中查找值的过程是搜索。对原型对象所做的任何修改都能立即从实例上反映出来。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">==</span> p<span class="token punctuation">.</span>__proto__ <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>原型分为 <strong>显式原型</strong>（构造函数的prototype属性） 和 <strong>隐式原型</strong>（调用构造函数实例化出来的对象的<code>__proto__</code>属性）。（ES5只允许操作 prototype，ES6都可以）</p>
<h3><span id="p3-yuan-xing-lian-bi-kao">3. 原型链 ==必考==</span><a href="#p3-yuan-xing-lian-bi-kao" class="header-anchor">#</a></h3>
<p><strong>原型链</strong>是实现<strong>继承</strong>的主要方法。</p>
<p>构造函数、原型和实例的关系 每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，而实例都包含一个指向原型对象的内部指针。那么假如我们让原型对象等于另一个类型的实例。显然，此时的原型对象将包含一个指向另一个原型的指针，相应地，另一个原型中也包含着一个指向另一个构造函数的指针。假如另一个原型又是另一个类型的实例，那么上述关系依然成立。如此层层递进，就构成了实例与原型的链条。这就是所谓的<strong>原型链</strong>的基本概念。==原型链的终点是 null==。</p>
<p>（1）基础原型链</p>
<p><img src="/2-%E8%A1%8C%E4%B8%BA/29-JS%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/image-20200725151021194.png" alt="img"></p>
<p>（2）终极原型链</p>
<p><img src="/2-%E8%A1%8C%E4%B8%BA/29-JS%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/%E7%BB%88%E6%9E%81%E5%8E%9F%E5%9E%8B%E9%93%BE.jpg" alt></p>
<h2><span id="psi-ji-cheng">四、继承</span><a href="#psi-ji-cheng" class="header-anchor">#</a></h2>
<p><strong>继承</strong>是子类对象能够使用父类对象的数据和方法。</p>
<h3><span id="p1-gou-zao-han-shu-ji-cheng">1. 构造函数继承</span><a href="#p1-gou-zao-han-shu-ji-cheng" class="header-anchor">#</a></h3>
<h3><span id="p2-yuan-xing-lian-ji-cheng">2. 原型链继承</span><a href="#p2-yuan-xing-lian-ji-cheng" class="header-anchor">#</a></h3>
<p>子类型的原型为父类型的一个实例对象。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 父类型</span>
<span class="token keyword">function</span> <span class="token function">Supper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span>superProp <span class="token operator">=</span> <span class="token string">'The super prop'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 原型的数据所有的实例对象都可见</span>
<span class="token class-name">Supper</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSupperProp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>superProp<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 子类型</span>
<span class="token keyword">function</span> <span class="token function">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subProp <span class="token operator">=</span> <span class="token string">'The sub prop'</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 子类的原型为父类的实例</span>
<span class="token class-name">Sub</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Supper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 修正原型链</span>
<span class="token comment">// 修正 Sub.prototype.constructor 为Sub本身</span>
<span class="token class-name">Sub</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Sub

<span class="token class-name">Sub</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSubProp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subProp<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 创建子类型的实例</span>
<span class="token keyword">var</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 调用父类型的方法</span>
sub<span class="token punctuation">.</span><span class="token function">showSubProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 调用子类型的方法</span>
sub<span class="token punctuation">.</span><span class="token function">showSupperProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p3-hun-he-ji-cheng-chang-kao">3. 混合继承 ==常考==</span><a href="#p3-hun-he-ji-cheng-chang-kao" class="header-anchor">#</a></h3>
<p>继承的主要方式。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 父类型（构造模式）</span>
<span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 父类型（原型模式）</span>
<span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// △ key1 继承属性 △</span>
    <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 继承方法</span>
<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// △ 修正原型链 △</span>
<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> SubType<span class="token punctuation">;</span>

<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 实例化对象</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">syaAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/2-%E8%A1%8C%E4%B8%BA/31-JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2-%E8%A1%8C%E4%B8%BA/31-JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95/" class="post-title-link" itemprop="url">JS 面向对象扩展</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-08T00:00:00+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-26 20:31:58" itemprop="dateModified" datetime="2020-08-26T20:31:58+08:00">2020-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2><span id="pliu-dui-xiang-de-bian-li">六、对象的遍历</span><a href="#pliu-dui-xiang-de-bian-li" class="header-anchor">#</a></h2>
<h3><span id="p1-die-dai-qi-iterator">1、迭代器 iterator</span><a href="#p1-die-dai-qi-iterator" class="header-anchor">#</a></h3>
<p>遍历器（迭代器，iterator）</p>
<p>统一的接口来遍历 Array Object Map Set</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Iterator</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 返回值 </span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
 				<span class="token keyword">return</span><span class="token punctuation">&#123;</span>
                   done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否遍历完成</span>
                   value<span class="token operator">:</span> arr<span class="token punctuation">[</span>num<span class="token operator">++</span><span class="token punctuation">]</span>
            	<span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
                    done<span class="token operator">:</span> ture
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-for-of-xu-bu-chong">2、for … of ==需补充==</span><a href="#p2-for-of-xu-bu-chong" class="header-anchor">#</a></h3>
<h3><span id="p2-for-in">2、for … in</span><a href="#p2-for-in" class="header-anchor">#</a></h3>
<p><code>for...in</code> 用来遍历自身和原型链中可枚举的属性。</p>
<p>不关对象本身的属性能被遍历，在对象的原型链上的属性也能被遍历。</p>
<blockquote>
<p>千万不要用这个遍历数组，虽然数组也是对象，但是数组的索引只是具有整数名称的枚举属性，这个不能保证遍历的顺序，而数组的最重要特征就是有序。</p>
</blockquote>
<h2><span id="pqi-jie-gou-fu-zhi">七、解构赋值</span><a href="#pqi-jie-gou-fu-zhi" class="header-anchor">#</a></h2>
<p>（1）数组的解构赋值</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 一一对应</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 解构失败返回 undefined</span>
<span class="token comment">// 允许不完全解构</span>
<span class="token comment">// 可以设置默认值(没有对应关系时)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token operator">=</span><span class="token string">"qwq"</span><span class="token punctuation">,</span> x3<span class="token punctuation">,</span> x4<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 想把后面没有解构的值保存起来(rest参数必须是最后)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> <span class="token operator">...</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>
<span class="token comment">// 多维数组保证一一对应也能解构</span>

<span class="token comment">// 交换两个变量</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 例子</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> hoo<span class="token punctuation">,</span> hoo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 报错 cannot access ‘hoo' before initialization</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）对象的解构赋值（用的很多） △</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 对象没有顺序，直接取 对应的方法 （保证同名，key）</span>
<span class="token keyword">const</span><span class="token punctuation">&#123;</span>
    log
<span class="token punctuation">&#125;</span> <span class="token operator">=</span> console<span class="token punctuation">;</span>

<span class="token comment">// 如果键名key和键值value是一样的，则可以直接简写</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    hoo<span class="token operator">:</span> <span class="token string">"hoo"</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> <span class="token string">"foo"</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    hoo<span class="token punctuation">,</span>
    foo
<span class="token punctuation">&#125;</span>

<span class="token comment">// 也能设置默认值</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（3）应用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1、函数多个返回值返回</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> foo<span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> hoo<span class="token operator">:</span> <span class="token string">"word"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> <span class="token punctuation">&#123;</span> foo <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2、函数传参数</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//3.json数据的提取</span>
<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"lily"</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">"nv"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> <span class="token punctuation">&#123;</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex <span class="token punctuation">&#125;</span> <span class="token operator">=</span> json<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="pba-cun-chu-qi-shu-xing-getter-setter">八、存储器属性 getter setter</span><a href="#pba-cun-chu-qi-shu-xing-getter-setter" class="header-anchor">#</a></h2>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    first<span class="token operator">:</span> <span class="token string">"李"</span><span class="token punctuation">,</span>
    last<span class="token operator">:</span> <span class="token string">"沛华"</span>
    <span class="token comment">// getter</span>
    <span class="token comment">// 一个对象可以有多个存储器属性</span>
    <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">,</span>last<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
	<span class="token comment">// setter</span>
	<span class="token comment">// ！一定要有参数</span>
	<span class="token keyword">set</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> nameArr <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj1<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 李沛华</span>
obj1<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">"闫 海静"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>后面用于 vue 数据双向绑定原理。</p>
<h2><span id="pjiu-dui-xiang-de-bu-chong">九、对象的补充</span><a href="#pjiu-dui-xiang-de-bu-chong" class="header-anchor">#</a></h2>
<h3><span id="p1-instanceof-cao-zuo-fu">1、instanceof 操作符</span><a href="#p1-instanceof-cao-zuo-fu" class="header-anchor">#</a></h3>
<p>第一个变量是对象，第二个变量是函数。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">A</span> <span class="token keyword">instanceof</span> <span class="token class-name">b</span> 
<span class="token comment">// a 沿着 __proto__ ， b 沿着 prototype  一直找</span>
<span class="token comment">// 找到相交的地方返回 true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>所有引用类型都是 Object 的实例，所以在检测引用类型和 Object 都会返回 true。所有基本类型都不是对象，使用会返回 <code>false</code>。</p>
<h3><span id="p2-new-yun-suan-fu-liu-cheng">2、new 运算符流程</span><a href="#p2-new-yun-suan-fu-liu-cheng" class="header-anchor">#</a></h3>
<ol>
<li>
<p>创建对象，开辟内存空间（堆）</p>
</li>
<li>
<p>设置原型链</p>
</li>
<li>
<p>this指向该内存</p>
</li>
<li>
<p>执行函数代码</p>
</li>
<li>
<p>将创建对象实例返回</p>
</li>
</ol>
<h3><span id="p3-dui-xiang-de-kao-bei">3、对象的拷贝</span><a href="#p3-dui-xiang-de-kao-bei" class="header-anchor">#</a></h3>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/%E5%B7%B2%E6%9B%B4%E6%96%B0/JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E5%B7%B2%E6%9B%B4%E6%96%B0/JS%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">JS 面向对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-06 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-06T00:00:00+08:00">2020-07-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-28 21:28:43" itemprop="dateModified" datetime="2020-08-28T21:28:43+08:00">2020-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="mu-lu">目录</span><a href="#mu-lu" class="header-anchor">#</a></h1>
<p>[TOC]</p>
<div class="toc">
<!-- toc -->
<ul>
<li><a href="#yi-mian-xiang-dui-xiang-ji-ben-gai-nian">一、面向对象基本概念</a></li>
<li><a href="#er-dui-xiang-de-chuang-jian-he-shi-yong">二、对象的创建和使用</a>
<ul>
<li><a href="#1-sheng-ming-yi-ge-dui-xiang">1、声明一个对象</a>
<ul>
<li><a href="#1-1-zi-mian-liang-fang-shi-sheng-ming">1.1 字面量方式声明</a></li>
<li><a href="#1-2-gou-zao-han-shu-fang-shi-sheng-ming">1.2 构造函数方式声明</a></li>
<li><a href="#1-3-gong-han-mo-shi-sheng-ming">1.3 工厂模式声明</a></li>
<li><a href="#1-4-object-create">1.4 Object.create</a></li>
</ul>
</li>
<li><a href="#2-dui-xiang-de-shi-yong">2、对象的使用</a>
<ul>
<li><a href="#2-1-fang-wen-dui-xiang-zhong-de-shu-xing">2.1 访问对象中的属性</a></li>
<li><a href="#2-2-zeng-jia-he-xiu-gai-shu-xing">2.2 增加和修改属性</a></li>
<li><a href="#2-3-shan-chu-shu-xing">2.3 删除属性</a></li>
</ul>
</li>
<li><a href="#2-4-bian-li-dui-xiang">2.4 遍历对象</a></li>
<li><a href="#2-5-kao-bei-dui-xiang">2.5 拷贝对象</a></li>
<li><a href="#3-chuang-jian-mo-shi">3、创建模式</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
</div>
<h1><span id="yi-mian-xiang-dui-xiang-ji-ben-gai-nian">一、面向对象基本概念</span><a href="#yi-mian-xiang-dui-xiang-ji-ben-gai-nian" class="header-anchor">#</a></h1>
<p><strong>面向对象</strong>和<strong>面向过程</strong>是两种截然不同的编程思想和方法。面向过程是以过程为中心，就像流水线一样设计程序的思想。面向对象是以对象为中心的编程思想。更符合人类的思维习惯。</p>
<p>在面向对象的概念中，<strong>类</strong>是一类相似事物的统称，对象是类的实例化，类是对象的模版。（JS中没有具体类的概念，ES6 引入的类实际上是函数。）</p>
<p>面向对象的三个基本特性: <strong>封装、继承、多态</strong>。</p>
<p><strong>对象（Object）</strong> 可以是一个变量，一个函数，一种数据结构。在JS中，一切皆为对象。JS允许自定义对象，从狭义的概念来分析，对象是最基本的数据类型，是复合型的结构、引用型的数据，它是无序数据集合。对象中每个成员被称为<strong>属性</strong>。对象是无序的键值对，数组是有序的键值对，函数是一种可执行的特殊对象。</p>
<h1><span id="er-dui-xiang-de-chuang-jian-he-shi-yong">二、对象的创建和使用</span><a href="#er-dui-xiang-de-chuang-jian-he-shi-yong" class="header-anchor">#</a></h1>
<h2><span id="p1-sheng-ming-yi-ge-dui-xiang">1、声明一个对象</span><a href="#p1-sheng-ming-yi-ge-dui-xiang" class="header-anchor">#</a></h2>
<h3><span id="p1-1-zi-mian-liang-fang-shi-sheng-ming">1.1 字面量方式声明</span><a href="#p1-1-zi-mian-liang-fang-shi-sheng-ming" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sleep</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 函数体</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>字面量方式声明的对象由多个<strong>键值对</strong>组成，每个键值对之间用逗号分隔。每个键值对就是一个<strong>属性</strong>，包括属性名和属性值。</p>
<p>属性名是字符串并且通常情况下不加引号，如果是其他类型也会转换成字符串。如果键名不符合变量命名规则必须加上引号。</p>
<p>属性值可以是任意东西，包括对象。</p>
<h3><span id="p1-2-gou-zao-han-shu-fang-shi-sheng-ming">1.2 构造函数方式声明</span><a href="#p1-2-gou-zao-han-shu-fang-shi-sheng-ming" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">          <span class="token comment">// 构造函数</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span>
<span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span><span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token function-variable function">sleep</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>new</code> 是操作符，调用后面的 <strong>构造函数</strong> 创建一个对象（字面量方式创建对象也会在内部调用<code>new Object</code>）。</p>
<p>构造函数可以使用return语句，如果return的是基本类型数据，那么值会被忽略。如果返回的是其他对象，那么就返回这个对象。</p>
<p>函数既是对象也是可以执行的代码块：</p>
<ul>
<li>在对象方面来说它也有属性和方法。</li>
<li>从代码块方面来说，既可以执行特定的代码块（普通函数），又可以创建特定类型的对象（函数的构造调用）
<ul>
<li>普通函数，没有return返回的是undefined，return返回的是指定的值。</li>
<li>函数的构造调用，没有return，返回的是新生成的对象。有的话看是基本数据类型还是对象。</li>
</ul>
</li>
</ul>
<h3><span id="p1-3-gong-han-mo-shi-sheng-ming">1.3 工厂模式声明</span><a href="#p1-3-gong-han-mo-shi-sheng-ming" class="header-anchor">#</a></h3>
<p>上面两种声明对象的最大缺点就是代码重复，会产生大量重复的代码。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 一般要首字母大写</span>
<span class="token keyword">function</span> <span class="token function">Obj</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p1-4-object-create">1.4 Object.create</span><a href="#p1-4-object-create" class="header-anchor">#</a></h3>
<p><code>Object.create( prototype, descriptors)</code></p>
<p>ES5新增的一个静态方法，用来定义一个实例对象。</p>
<ul>
<li>参数<code>prototype</code> 必须是一个已有对象或者<code>null</code>，是新创建这个对象的原型对象。==指定原型对象，继承方式。==</li>
<li>参数<code>descriptors</code> 可选，设置新创建的对象。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 创建一个以已有对象obj为原型变量的对象</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> Objcet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token comment">// 创建一个普通对象（字面量）</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>protype<span class="token punctuation">)</span>
<span class="token comment">// 创建一个干净的对象</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token comment">// 创建一个干净的对象并设置</span>
<span class="token keyword">var</span> obj4 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span><span class="token punctuation">&#123;</span> <span class="token comment">// 对象的特性描述必须是一个对象</span>
        value<span class="token operator">:</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> 
        <span class="token comment">// 指定属性值</span>
        writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
        <span class="token comment">// 设置值是否可写，默认false</span>
        enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置属性是否可以枚举（遍历），默认</span>
        configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置属性是否可修改特性和删除特性，默认</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p2-dui-xiang-de-shi-yong">2、对象的使用</span><a href="#p2-dui-xiang-de-shi-yong" class="header-anchor">#</a></h2>
<h3><span id="p2-1-fang-wen-dui-xiang-zhong-de-shu-xing">2.1 访问对象中的属性</span><a href="#p2-1-fang-wen-dui-xiang-zhong-de-shu-xing" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 第一种方法</span>
obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

<span class="token comment">// 第二种方法，最大优点是可以通过变量、表达式来访问属性</span>
obj<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 1. 如果键名命名不符合标识符命名规则</span>
<span class="token comment">// 则只能通过第二种方法访问。</span>
<span class="token comment">// 2. 点操作符比比中括号操作符高</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-2-zeng-jia-he-xiu-gai-shu-xing">2.2 增加和修改属性</span><a href="#p2-2-zeng-jia-he-xiu-gai-shu-xing" class="header-anchor">#</a></h3>
<p><strong><code>Object.defineProperty(obj, prop, descriptors)</code></strong></p>
<p>给对象添加属性或者修改现有属性（可以设置属性的描述）</p>
<p>参数<code>prop</code> 要修改的属性，要加字符串</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 例子</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    value<span class="token operator">:</span> <span class="token string">"Java"</span><span class="token punctuation">,</span>
    <span class="token comment">// 如果这个属性的正常创建的，则正常使用，如枚举</span>
    <span class="token comment">// wriable, enumerable, configurable </span>
    <span class="token comment">// 同 Object.create</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong><code>Object.defineProperties( obj, descriptors)</code></strong></p>
<p>可以同时设置多个属性，格式和<code>Object.create()</code>基本相同。</p>
<h3><span id="p2-3-shan-chu-shu-xing">2.3 删除属性</span><a href="#p2-3-shan-chu-shu-xing" class="header-anchor">#</a></h3>
<p><code>delete 对象.属性</code></p>
<blockquote>
<p><strong>变量带var和不带var的区别</strong></p>
<p>window对象是JS中最顶层对象。在全局中声明的变量（即带var的）会作为window对象的属性（变量）。不带var的变量也会被作为window对象的属性，他只是window对象的属性。var声明的全局变量不能使用delete删除，但是不带var的所谓全局变量可以用delete删除，因为它只是属性。</p>
</blockquote>
<h2><span id="p2-4-bian-li-dui-xiang">2.4 遍历对象</span><a href="#p2-4-bian-li-dui-xiang" class="header-anchor">#</a></h2>
<p><code>for...in</code> 遍历对象，其遍历的是可枚举的自身属性和原型链中的属性。</p>
<h2><span id="p2-5-kao-bei-dui-xiang">2.5 拷贝对象</span><a href="#p2-5-kao-bei-dui-xiang" class="header-anchor">#</a></h2>
<p>深拷贝。</p>
<p>待更新。</p>
<h2><span id="p3-chuang-jian-mo-shi">3、创建模式</span><a href="#p3-chuang-jian-mo-shi" class="header-anchor">#</a></h2>
<p>（1）构造函数模式</p>
<p>先创建空对象，再动态添加属性和方法</p>
<p>适用于 起始不能确定对象内部数据</p>
<p>问题 语句太多</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">ver p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）对象字面量模式</p>
<p>使用<code>&#123; &#125;</code>创建对象，同时指定属性和方法</p>
<p>适用于 起始时对象内部数据是确定的</p>
<p>问题 如果创建多个对象，有重复代码</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（3）工厂模式</p>
<p>通过工厂函数动态创建对象并返回</p>
<p>适用于 需要创建多个对象</p>
<p>问题 对象没有一个具体的类型，都是 Object 类型</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
          name<span class="token operator">:</span> name<span class="token punctuation">,</span>
          age<span class="token operator">:</span> age<span class="token punctuation">,</span>
          <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> p<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（4）自定义构造函数模式</p>
<p>自定义构造函数，通过 <code>new</code> 创建对象</p>
<p>适用 需要多个类型确定的对象</p>
<p>问题 每个对象都有相同的数据，浪费内存</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 在构造函数中书写的属性和方法都是实例化对象私有</span>
    <span class="token comment">// 每个实例化对象在构造函数中的属性方法都不一样</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom2'</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（5）构造函数 + 原型的组合模式</p>
<p>自定义构造函数，属性在函数中初始化，方法添加到原型上</p>
<p>适用 需要创建多个类型确定的对象</p>
<p>属性一般来说都是对象私有的，而方法基本上都是对象公有的。</p>
<p>构造函数模式用于定义实例属性，原型模式用于定义方法和共享的属性。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 属性一般来说都是私有的</span>
<span class="token comment">// 并且只有在构造函数中才能给对象的属性传参</span>
<span class="token comment">// 方法基本上都是公有的</span>
<span class="token comment">// 所以方法基本写在原型对象上</span>


<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">&#125;</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'JAck'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'TOM3'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://nigelkeel.gitee.io/%E5%B7%B2%E6%9B%B4%E6%96%B0/JS%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="KEEL">
      <meta itemprop="description" content="暂无描述">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="飞鱼">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E5%B7%B2%E6%9B%B4%E6%96%B0/JS%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">JS 函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-05 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-05T00:00:00+08:00">2020-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-28 21:20:32" itemprop="dateModified" datetime="2020-08-28T21:20:32+08:00">2020-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">技术栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="mu-lu">目录</span><a href="#mu-lu" class="header-anchor">#</a></h1>
<p>[TOC]</p>
<div class="toc">
<!-- toc -->
<ul>
<li><a href="#yi-ji-ben-de-han-shu">一、基本的函数</a>
<ul>
<li><a href="#1-han-shu-de-zuo-yong">1、函数的作用</a></li>
<li><a href="#2-ding-yi-han-shu">2、定义函数</a>
<ul>
<li><a href="#2-1-sheng-ming-han-shu">2.1 声明函数</a></li>
<li><a href="#2-2-han-shu-biao-da-shi-ni-ming-han-shu-shi">2.2 函数表达式，匿名函数式</a></li>
<li><a href="#2-3-gou-zao-han-shu">2.3 构造函数</a></li>
</ul>
</li>
<li><a href="#3-shi-yong-han-shu">3、使用函数</a></li>
<li><a href="#4-han-shu-de-can-shu">4、函数的参数</a></li>
<li><a href="#5-fan-hui-zhi">5、返回值</a></li>
<li><a href="#6-jian-tou-han-shu">6、箭头函数 △</a></li>
</ul>
</li>
<li><a href="#er-te-shu-de-han-shu-biao-da-shi">二、特殊的函数表达式</a>
<ul>
<li><a href="#1-li-ji-zhi-xing-han-shu-biao-da-shi">1、立即执行函数表达式</a></li>
<li><a href="#2-di-gui-han-shu">2、递归函数</a></li>
<li><a href="#3-hui-diao-han-shu">3、回调函数</a></li>
</ul>
</li>
<li><a href="#san-this">三、this △△</a>
<ul>
<li><a href="#1-this">1、this</a></li>
<li><a href="#2-this-de-zhi-xiang">2、this的指向</a>
<ul>
<li><a href="#2-1-mo-ren-bang-ding">2.1 默认绑定</a></li>
<li><a href="#2-2-yin-shi-bang-ding">2.2 隐式绑定</a></li>
</ul>
</li>
<li><a href="#3-call-apply-bind">3、call、apply、bind</a>
<ul>
<li><a href="#3-1-call">3.1 call</a></li>
<li><a href="#3-2-apply">3.2 apply</a></li>
<li><a href="#3-3-bind">3.3 bind</a></li>
</ul>
</li>
<li><a href="#4-call-de-shi-xian">4、call 的实现</a></li>
</ul>
</li>
<li><a href="#si-han-shu-de-zhi-xing-guo-cheng">四、函数的执行过程 △</a>
<ul>
<li><a href="#1-zhan-nei-cun-he-dui-nei-cun">1、栈内存和堆内存</a></li>
<li><a href="#2-zhi-xing-shang-xia-wen">2、执行上下文</a></li>
<li><a href="#3-bian-liang-dui-xiang">3、变量对象</a></li>
<li><a href="#4-zuo-yong-yu">4、作用域</a></li>
<li><a href="#5-zuo-yong-yu-lian">5、作用域链 △</a></li>
<li><a href="#6-nei-cun-zhong-de-bian-liang-cun-chu">6、内存中的变量存储</a></li>
<li><a href="#7-sheng-ming-ti-sheng">7、声明提升 △</a></li>
<li><a href="#8-la-ji-hui-shou-ji-zhi">8. 垃圾回收机制  +</a></li>
</ul>
</li>
<li><a href="#wu-bi-bao">五、闭包 △△</a>
<ul>
<li><a href="#1-bi-bao-shi-shi-me">1、闭包是什么</a></li>
<li><a href="#2-bi-bao-de-zuo-yong-ji-que-dian">2、闭包的作用及缺点</a></li>
<li><a href="#3-bi-bao-de-sheng-ming-zhou-qi">3、闭包的生命周期</a></li>
<li><a href="#4-ying-yong">4、应用</a></li>
</ul>
</li>
<li><a href="#liu-ge-ren-feng-zhuang-han-shu-ku">六、个人封装函数库</a></li>
</ul>
<!-- tocstop -->
</div>
<h1><span id="yi-ji-ben-de-han-shu">一、基本的函数</span><a href="#yi-ji-ben-de-han-shu" class="header-anchor">#</a></h1>
<p><strong>函数</strong>是可以反复使用的并且命名的代码块。本质上也是一种属于<a href>对象</a>类型的数据。与其他数据类型不同的是，函数的值是可执行的代码。函数分为<strong>系统函数</strong>和<strong>自定义函数</strong>。</p>
<p>函数是数据，函数名是这个数据的标识。需要访问函数的数据去掉圆括号就好。一个函数可以有多个标识。</p>
<h2><span id="p1-han-shu-de-zuo-yong">1、函数的作用</span><a href="#p1-han-shu-de-zuo-yong" class="header-anchor">#</a></h2>
<ul>
<li>解决代码的冗余问题，实现代码的复用。</li>
<li>封装代码，让函数内部的代码对外部不可见。</li>
<li>可以让整个代码项目通过函数模块化。</li>
</ul>
<h2><span id="p2-ding-yi-han-shu">2、定义函数</span><a href="#p2-ding-yi-han-shu" class="header-anchor">#</a></h2>
<p>函数名定义的规则遵循标识符的规则。函数的声明函数名可以重复，一旦重名，前面的覆盖后面的。</p>
<h3><span id="p2-1-sheng-ming-han-shu">2.1 声明函数</span><a href="#p2-1-sheng-ming-han-shu" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">name</span><span class="token punctuation">(</span> <span class="token parameter">args</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 函数体</span>
    <span class="token keyword">return</span> statement<span class="token punctuation">;</span> <span class="token comment">// 返回语句</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// name -- 函数名</span>
<span class="token comment">// args -- 参数列表（可选）</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>var</code> 和 <code>function</code> 都是声明语句，它们声明的变量和函数都在JS预编译时被解析，也被称为变量提升和函数提升。</p>
<p>ES5中，不允许函数书写在非函数的代码块中（比如if语句中）。</p>
<h3><span id="p2-2-han-shu-biao-da-shi-ni-ming-han-shu-shi">2.2 函数表达式，匿名函数式</span><a href="#p2-2-han-shu-biao-da-shi-ni-ming-han-shu-shi" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 赋值调用（被称为函数表达式，这种方法只能提升函数名，不能提升函数体）</span>
<span class="token comment">// 调用需在创建之后</span>
<span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 函数体</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>函数可以不书写名字，这种被称为<strong>匿名函数</strong>。</p>
<p>执行方法：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 自调用</span>
<span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 函数体</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token operator">!</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 函数体</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-3-gou-zao-han-shu">2.3 构造函数</span><a href="#p2-3-gou-zao-han-shu" class="header-anchor">#</a></h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">"执行字符串"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个方法不是很常用</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2><span id="p3-shi-yong-han-shu">3、使用函数</span><a href="#p3-shi-yong-han-shu" class="header-anchor">#</a></h2>
<p>函数需要调用才会执行。</p>
<h2><span id="p4-han-shu-de-can-shu">4、函数的参数</span><a href="#p4-han-shu-de-can-shu" class="header-anchor">#</a></h2>
<p>JS 数据传递只有值传递，没有引用传递。</p>
<p><strong>形参</strong> 形式上的参数，声明函数时候提供的参数。</p>
<p><strong>实参</strong> 在调用时，实际使用的参数。</p>
<p><strong>默认参数</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ES6之前</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    age <span class="token operator">?</span> age<span class="token operator">:</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>


<span class="token comment">// ES6</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>**剩余参数 **</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 可以把不确定的参数表示成数组</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token operator">...</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2,3,4]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>argument对象</strong></p>
<p>二者在传值的时候是一一对应的。二者的个数可以不相等，形参多的时候，多出来的自动被赋值 undefined，实参多的时候，多出来的放在**<code>arguments</code>**对象中。该对象在函数内部才有，实际上是一个类数组 array-like 的对象，可以访问这个对象获得传递给函数的每一个实参。函数中的形参可写可不写，即使不写形参也可以使用arguments对象获得，使用形参比较方便。arguments对象的length属性用来确定传递进来多少个实参。可以通过length属性的值的不同（根据传入的参数个数的不同），进行不同的操作。<code>arguments</code>对象中保存着一个叫<code>callee</code>的属性，这个属性是一个指针，它指向拥有这个<code>arguments</code>对象的函数。</p>
<ul>
<li>使用arguments对象的length属性可以获取函数的实参个数。</li>
<li>argument对象只能在函数内可见,因此arguments.legth也只能在函数体内使用。</li>
<li>使用函数对象的length属性可以获取函数的形参个数,该属性为只读属性,在函数体内,体外都可以使用</li>
</ul>
<p>callee 是arguments对象的属性，它引用当前argument对象所在的函数，使用该属性可以在函数体内调用自身。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 检测函数的形参和实参是否一致，如果不一致</span>
arguments<span class="token punctuation">.</span>length <span class="token operator">!=</span> arguments<span class="token punctuation">.</span>callee<span class="token punctuation">.</span>length<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2><span id="p5-fan-hui-zhi">5、返回值</span><a href="#p5-fan-hui-zhi" class="header-anchor">#</a></h2>
<p><code>return</code> 没有指定值时函数返回的是<code>undefined</code>，函数在执行完该语句以后立即停止执行并退出函数。</p>
<h2><span id="p6-jian-tou-han-shu">6、箭头函数 △</span><a href="#p6-jian-tou-han-shu" class="header-anchor">#</a></h2>
<p>ES6新出的。</p>
<p>（1）写法</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// （1）函数有参数，函数体只有一句返回值</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=></span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// （2）函数没有参数，函数体只有一句返回值</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>

<span class="token comment">// （3）函数参数随意，函数体不仅仅是一句返回值</span>
<span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）特点</p>
<ul>
<li>不存在this，即箭头函数<code>this</code>在定义的时候就已经确定了， <code>this</code>指向看定义的位置。</li>
<li>不能用于构造函数（不能被new实例化）。</li>
<li>没有<code>argument</code>对象，可用<code>rest</code>参数代替。</li>
<li>箭头函数不能使用<code>yield</code>命令，即不能用作Generator函数。</li>
</ul>
<p>（3）箭头函数的<code>this</code>指向</p>
<p>待更新。</p>
<h1><span id="er-te-shu-de-han-shu-biao-da-shi">二、特殊的函数表达式</span><a href="#er-te-shu-de-han-shu-biao-da-shi" class="header-anchor">#</a></h1>
<h2><span id="p1-li-ji-zhi-xing-han-shu-biao-da-shi">1、立即执行函数表达式</span><a href="#p1-li-ji-zhi-xing-han-shu-biao-da-shi" class="header-anchor">#</a></h2>
<p><code>IIFE</code>， Immediately Invoked Function Expression，立即执行的函数表达式，即声明的时候立即调用这个函数。</p>
<p>在规范当中，函数表达式语句:</p>
<ul>
<li>不能大括号开头</li>
<li>不能 <code>function</code> 开头</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>IIFE函数只能运行一次，因为引用类型没有标识符，执行完成后会被JS的垃圾回收机制回收。</p>
<h2><span id="p2-di-gui-han-shu">2、递归函数</span><a href="#p2-di-gui-han-shu" class="header-anchor">#</a></h2>
<p>递归就是自己调用自己。多次调用同一函数他们的执行环境是不相同的，在执行环境中的变量互不影响。</p>
<h2><span id="p3-hui-diao-han-shu">3、回调函数</span><a href="#p3-hui-diao-han-shu" class="header-anchor">#</a></h2>
<p>回调函数分为同步回调函数，异步回调函数。</p>
<p>回调函数（callback）。</p>
<p>什么函数才是回调函数?</p>
<ul>
<li>你定义的</li>
<li>你没有直接调用</li>
<li>但最终它执行了（在特定条件或时刻）</li>
</ul>
<p>常见的回调函数:</p>
<ul>
<li>DOM事件函数</li>
<li>定时器函数</li>
<li>AJAX回调函数</li>
<li>生命周期回调函数</li>
</ul>
<p>回调函数的特性导致其层层嵌套，形成<a href>回调地狱</a>。</p>
<h1><span id="san-this">三、this △△</span><a href="#san-this" class="header-anchor">#</a></h1>
<h2><span id="p1-this">1、this</span><a href="#p1-this" class="header-anchor">#</a></h2>
<p>JS的作用域是静态的，但是函数的调用却是动态的，由于函数可以在不同的运行环境内执行，因此JS在函数体内定义了<code>this</code>关键字来获取当前的运行环境。<strong>this</strong> 最终代表的是函数的__执行者，使用者，调用者__。它是一个指针型变量。</p>
<h2><span id="p2-this-de-zhi-xiang">2、this的指向</span><a href="#p2-this-de-zhi-xiang" class="header-anchor">#</a></h2>
<ul>
<li>函数是否在<code>new</code>中调用，如果是的话，<code>this</code>绑定的是新创建的对象</li>
<li>函数是否通过<code>call</code>、<code>apply</code> 显示绑定，如果是，则<code>this</code>绑定的是执行的对象</li>
<li>函数是否在某个上下文中调用，如果有，则<code>this</code>绑定在这个上下文对象上</li>
<li>如果都不是，默认绑定<code>window</code></li>
</ul>
<h3><span id="p2-1-mo-ren-bang-ding">2.1 默认绑定</span><a href="#p2-1-mo-ren-bang-ding" class="header-anchor">#</a></h3>
<p><code>this</code> 默认指向 <code>window</code>，在无法应用其他规则的时候使用</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> 
    <span class="token function-variable function">do</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// foo是直接使用不带任何修饰的函数引用进行调用，因此只能使用默认绑定规则</span>

obj<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// window</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p2-2-yin-shi-bang-ding">2.2 隐式绑定</span><a href="#p2-2-yin-shi-bang-ding" class="header-anchor">#</a></h3>
<p>当函数引用有上下文对象的时候（obj），隐式绑定规则会把函数中的this绑定到这个上下文对象上。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> foo<span class="token operator">:</span> foo <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token comment">// 当foo调用的时候，它的落脚点确实是指向的obj对象，当函数引用有上下文对象的时候（obj），隐式绑定规则会把函数中的this绑定到这个上下文对象上。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>隐式绑定可能会出现隐式丢失问题。被隐式绑定的函数，丢失了绑定对象</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    a<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    foo<span class="token operator">:</span> foo<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fn1 <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello </span>
<span class="token comment">// 虽然fn1是obj.foo的一个引用，但是实际上它的引用是foo函数本身，因此fn1其实是一个不带任何修饰的函数调用，属于默认绑定</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>每个函数对象都有 call 和 apply 方法，本质是设置函数体内this对象的值。</p>
<h2><span id="p3-call-apply-bind">3、call、apply、bind</span><a href="#p3-call-apply-bind" class="header-anchor">#</a></h2>
<p><code>call</code>、<code>apply</code>、<code>bind</code> 是 <a href>Function</a> 对象自带的方法。</p>
<p>这三个函数的存在意义是<strong>改变函数执行时的上下文</strong>，再具体一点就是<strong>改变函数运行时的this指向</strong>。</p>
<h3><span id="p3-1-call">3.1 call</span><a href="#p3-1-call" class="header-anchor">#</a></h3>
<p><strong>call()</strong> 方法在使用一个指定的this值和若干个指定的参数值的前提下调用某个函数或方法。当调用一个函数时，可以赋值一个不同的 <code>this</code> 对象。<code>this</code> 引用当前对象，即 <code>call</code> 方法的第一个参数。</p>
<p>通过 <code>call</code> 方法，你可以在一个对象上借用另一个对象上的方法</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 语法</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> thisArg<span class="token punctuation">[</span><span class="token punctuation">,</span> arg1<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 参数列表</span>
<span class="token comment">// - thisArg 指定函数运行时的 this值</span>
<span class="token comment">//   - 不传，或者传 null，undefined， 函数中的this指向window对象</span>
<span class="token comment">//   - 传递另一个函数的函数名，函数中的this指向这个函数的引用，并不一定是该函数执行时真正的this值</span>
<span class="token comment">//   - 值为原始值(数字，字符串，布尔值)的this会指向该原始值的自动包装对象，如 String Number Boolean</span>
<span class="token comment">//   - 传递一个对象，函数中的this指向这个对象</span>
<span class="token comment">// - arg 函数所需要的参数，逗号间隔</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//输出函数a中的this对象</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span>
<span class="token comment">//定义函数b</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> 

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'我是obj'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//定义对象obj</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//window</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Number</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//String</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Boolean</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// function b()&#123;&#125;</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Object</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3><span id="p3-2-apply">3.2 apply</span><a href="#p3-2-apply" class="header-anchor">#</a></h3>
<p><strong>apply</strong>() 语法与 <code>call()</code> 方法的语法几乎完全相同，唯一的区别在于，apply的第二个参数必须是一个包含多个参数的数组（或类数组对象）。</p>
<h3><span id="p3-3-bind">3.3 bind</span><a href="#p3-3-bind" class="header-anchor">#</a></h3>
<p><code>bind</code> 函数会创建一个新函数（称为绑定函数）</p>
<ul>
<li>传参和call或apply类似</li>
<li>不会执行对应的函数，call或apply会自动执行对应的函数</li>
<li>返回对函数的引用</li>
<li>语法 <code>fun.bind(thisArg[, arg1[, arg2[, ...]]])</code>。</li>
</ul>
<h2><span id="p4-call-de-shi-xian">4、call 的实现</span><a href="#p4-call-de-shi-xian" class="header-anchor">#</a></h2>
<p>待更新。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 1. 把调用call方法的对象this指向call方法的第一个参数</span>
    <span class="token comment">// 2. 调用call方法的自己的this</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h1><span id="si-han-shu-de-zhi-xing-guo-cheng">四、函数的执行过程 △</span><a href="#si-han-shu-de-zhi-xing-guo-cheng" class="header-anchor">#</a></h1>
<h2><span id="p1-zhan-nei-cun-he-dui-nei-cun">1、栈内存和堆内存</span><a href="#p1-zhan-nei-cun-he-dui-nei-cun" class="header-anchor">#</a></h2>
<p>内存根据程序运行时候的逻辑分为<strong>栈内存</strong>和<strong>堆内存</strong>。在JS中，并没有严格意义区分。大部分的数据都保存在堆内存中，但是在某些场景，仍需要用栈（有时候也叫堆栈）的数据结构的思路进行处理，如<strong>执行上下文</strong>。</p>
<table>
<thead>
<tr>
<th>栈内存</th>
<th>堆内存</th>
</tr>
</thead>
<tbody>
<tr>
<td>栈结构（先进先出）</td>
<td>链表结构</td>
</tr>
<tr>
<td>占内存小，速度快</td>
<td>占内存大，速度慢</td>
</tr>
<tr>
<td>自动分配，自动回收</td>
<td>自己申请，手动释放</td>
</tr>
</tbody>
</table>
<h2><span id="p2-zhi-xing-shang-xia-wen">2、执行上下文</span><a href="#p2-zhi-xing-shang-xia-wen" class="header-anchor">#</a></h2>
<p>JS引擎并不是逐行解析代码，而是逐段去分析和执行，当开始解析一段代码时，会先进行<strong>预处理</strong>（声明提升和创建作用域链）。生成一个<strong>执行上下文</strong>。</p>
<p><strong>执行上下文</strong>（执行环境）分为两种<strong>变量对象</strong>（VO）：</p>
<ul>
<li><code>Global</code> | <code>Window</code>，默认的<strong>全局执行环境</strong>。</li>
<li><code>Function</code>，调用函数时会进入的<strong>函数执行环境</strong>。</li>
</ul>
<p>代码执行时会开辟一个栈空间来说明程序的执行顺序，这个执行上下文堆栈称为<strong>执行栈</strong>。开始执行时先将全局执行环境压入栈底（压栈），执行到函数时会创建对应的函数执行环境，并将函数执行环境压入栈底。在函数执行完成后将函数执行环境弹出并销毁。直到所有代码执行完成销毁全局执行环境。</p>
<h2><span id="p3-bian-liang-dui-xiang">3、变量对象</span><a href="#p3-bian-liang-dui-xiang" class="header-anchor">#</a></h2>
<p><strong>全局变量对象</strong> windows</p>
<p><strong>函数变量对象</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 模拟上面代码的变量对象</span>
<span class="token keyword">var</span> <span class="token constant">VO</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    argument<span class="token operator">:</span><span class="token punctuation">&#123;</span>
        <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
        length<span class="token operator">:</span><span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">c</span><span class="token operator">:</span><span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span>
	d<span class="token operator">:</span><span class="token keyword">undefined</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2><span id="p4-zuo-yong-yu">4、作用域</span><a href="#p4-zuo-yong-yu" class="header-anchor">#</a></h2>
<p><strong>作用域 scope</strong> 是变量在程序中可以访问的有效访问，也被称为变量的可见性。作用域在进入全局执行环境或者函数执行环境时就已经确定好了。在<code>ES5</code>中，作用域分为两种：</p>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
</ul>
<p>**同一个函数的多次调用都会生成不同的执行环境，每次调用都会生成。 **</p>
<p><strong>全局变量</strong> 是定义在全局作用域中的变量，一般在函外部定义。在程序的所有地方都可以使用和操作。</p>
<p><strong>局部变量</strong> 是在函数内部定义的，在函数执行域中。只能在自己的作用域中起作用，只能在函数内部使用。外部无法使用和操作局部变量。</p>
<h2><span id="p5-zuo-yong-yu-lian">5、作用域链 △</span><a href="#p5-zuo-yong-yu-lian" class="header-anchor">#</a></h2>
<p><strong>作用域链</strong> 是用来查找变量的这样一系列的过程。一个函数在定义时会生成一个属性<code>[[scope]]</code>，这个属性存储的是函数定义时作用域的层级关系。作用域链是函数执行时创建的，是当前函数作用域链 -&gt; <code>[[scope]]</code>属性作用域组成的。函数当前执行的作用域是作用域链的顶端，全局作用域在作用域链的最后。执行环境销毁时，作用域链也会销毁。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 全局作用域</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// test -> 全局作用域</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// test2 -> test -> 全局作用域</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//100</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//10</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当执行f1时，创建函数f1的执行环境，并将该对象置于链表开头，然后将函数f的调用对象放在第二位，最后是全局对象，作用域链的链表的结构是 f1-&gt;f-&gt;window 。从链表的开头寻找变量a，即f1函数内部找变量a，找到了，结果是20。同样，执行f2时，作用域链的链表的结构是 f2-&gt;f-&gt;window 。从链表的开头寻找变量a，即f2函数内部找变量a，找不到，于是从f内部找变量a，找到了，结果是10。最后在最外层打印出变量a，直接从变量a的作用域即全局作用域内寻找，结果为1。</p>
<h2><span id="p6-nei-cun-zhong-de-bian-liang-cun-chu">6、内存中的变量存储</span><a href="#p6-nei-cun-zhong-de-bian-liang-cun-chu" class="header-anchor">#</a></h2>
<p>变量如果是<a href>基本数据类型</a>，会在直接在栈内存开辟一段存储空间标识符。然后将基本数据类型的值也存储在栈内存中和标识符对应起来。要求变量名不能重名，重名就会覆盖。</p>
<p>如果是<a href>引用数据类型</a>，值储存在堆内存中，存储引用类型的时候标识符是储存在栈内存中的。（JS不允许直接访问堆内存中的数据，只能通过引用访问，差不多就是在变量对象中存储一个指向对象的句柄，可以理解成是一个地址，要访问这个对象，就要通过这个引用句柄来访问）。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span>
c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1000,2,3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>程序一开始执行，进入全局环境，首先会创建全局环境并且压栈（执行栈），全局代码执行的时候依赖的是全局环境中的东西。全局变量如果是基本类型，那么这个值直接存在栈当中，如果这个变量的值是引用类型，那么引用类型会在堆内存中开辟自己的空间专门存储（数据本身）。然后里面的这块空间的地址存在栈当中对应的变量。</p>
<p>当函数执行碰到函数调用，函数执行时也要有自己的环境去依赖。函数执行也是创建自己的函数环境进行压栈（函数执行环境一定压在全局执行环境的上面）。局部变量，是在函数环境当中存在的，只有函数执行，局部变量才会出现，函数执行完成之后，函数环境要弹出栈（销毁归还内存），局部变量也就不存在了。</p>
<p>当函数调用完成之后，会继续执行全局代码，一直到所有的全局代码执行完成，代表程序执行结束，程序执行结束的时候，全局环境最后出栈（销毁）。</p>
<h2><span id="p7-sheng-ming-ti-sheng">7、声明提升  △</span><a href="#p7-sheng-ming-ti-sheng" class="header-anchor">#</a></h2>
<p>也称为预解析。在执行环境的第一步（创建阶段），会将带 var 的变量声明和函数声明，放到作用域中。在执行阶段时，它的相关逻辑还是放在原来的位置进行赋值和其他的逻辑处理。函数表达式和函数构造器不会被提升。函数声明和变量都会提升，但是函数声明会先提升，然后是变量。</p>
<p><strong>变量声明提升</strong> 通过 <code>var</code> 声明的变量，在定义语句之前就能访问到，值为 <code>undefined</code>。</p>
<p><strong>函数声明提升</strong> 通过 <code>function</code> 声明的函数，在前面就可以直接调用，值为函数定义（对象）。</p>
<h2><span id="p8-la-ji-hui-shou-ji-zhi">8. 垃圾回收机制  +</span><a href="#p8-la-ji-hui-shou-ji-zhi" class="header-anchor">#</a></h2>
<p>待更新。</p>
<h1><span id="wu-bi-bao">五、闭包 △△</span><a href="#wu-bi-bao" class="header-anchor">#</a></h1>
<h3><span id="p1-bi-bao-shi-shi-me">1、闭包是什么</span><a href="#p1-bi-bao-shi-shi-me" class="header-anchor">#</a></h3>
<p><strong>闭包</strong>（Closure）:</p>
<ul>
<li>闭包的产生是函数嵌套函数，内部函数引用外部函数变量，外部函数调用。</li>
<li>闭包可以理解为内部的函数。</li>
<li>深入理解的话，闭包就是包含<strong>被内部引用变量</strong>的对象。（可以通过浏览器断点调试查看）</li>
</ul>
<h3><span id="p2-bi-bao-de-zuo-yong-ji-que-dian">2、闭包的作用及缺点</span><a href="#p2-bi-bao-de-zuo-yong-ji-que-dian" class="header-anchor">#</a></h3>
<ul>
<li>外部间接的访问到了内部的变量。</li>
<li>当外部函数执行完成后，局部变量暂时不会消失，延长了局部变量的生命周期。</li>
</ul>
<p>闭包的缺点: <strong>内存泄露</strong>。解决方法:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">fun <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">// 让内部函数对象（闭包）变成垃圾对象</span>
<span class="token comment">// 此时就马上被回收</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3><span id="p3-bi-bao-de-sheng-ming-zhou-qi">3、闭包的生命周期</span><a href="#p3-bi-bao-de-sheng-ming-zhou-qi" class="header-anchor">#</a></h3>
<p>当内部函数被定义的时候，闭包就生成了。</p>
<p>当内部函数没有被引用的时候，函数就会称为垃圾对象，闭包就会消失。</p>
<h3><span id="p4-ying-yong">4、应用</span><a href="#p4-ying-yong" class="header-anchor">#</a></h3>
<p>模块化。</p>
<h1><span id="liu-ge-ren-feng-zhuang-han-shu-ku">六、个人封装函数库</span><a href="#liu-ge-ren-feng-zhuang-han-shu-ku" class="header-anchor">#</a></h1>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">;</span><span class="token operator">+</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">w</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">/* 
    * xxxx方法：xxxx
    * @pargm &#123;x:[type],y:[type]&#125; （参数
    * @return &#123;object&#125; x:xxx y:xxx （返回值
    */</span>
    
<span class="token punctuation">&#125;</span><span class="token punctuation">(</span>windows<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><code>;</code>是为了防止其他库末尾不加分号，引起错误</li>
<li><code>+</code>等一元运算符代表把匿名函数括起来</li>
<li>在匿名函数中定义一个对象，把所有方法</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">KEEL</p>
  <div class="site-description" itemprop="description">暂无描述</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KEEL</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
